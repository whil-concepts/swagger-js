{"version":3,"sources":["webpack:///webpack/bootstrap f50b5b49931ab1079cb5","webpack:///external \"babel-runtime/core-js/object/keys\"","webpack:///external \"babel-runtime/helpers/typeof\"","webpack:///external \"babel-runtime/core-js/object/assign\"","webpack:///external \"babel-runtime/helpers/extends\"","webpack:///external \"babel-runtime/regenerator\"","webpack:///./src/helpers.js","webpack:///external \"lodash/assign\"","webpack:///./src/http.js","webpack:///external \"babel-runtime/core-js/json/stringify\"","webpack:///./src/specmap/lib/index.js","webpack:///external \"url\"","webpack:///external \"babel-runtime/helpers/asyncToGenerator\"","webpack:///external \"lodash/get\"","webpack:///external \"btoa\"","webpack:///external \"lodash/startsWith\"","webpack:///external \"@kyleshockey/js-yaml\"","webpack:///./src/resolver.js","webpack:///external \"babel-runtime/core-js/promise\"","webpack:///external \"babel-runtime/core-js/get-iterator\"","webpack:///external \"babel-runtime/helpers/classCallCheck\"","webpack:///external \"babel-runtime/helpers/createClass\"","webpack:///./src/specmap/lib/create-error.js","webpack:///./src/specmap/helpers.js","webpack:///./src/index.js","webpack:///external \"lodash/cloneDeep\"","webpack:///external \"babel-runtime/helpers/slicedToArray\"","webpack:///external \"cross-fetch/polyfill\"","webpack:///external \"qs\"","webpack:///external \"lodash/isString\"","webpack:///external \"isomorphic-form-data\"","webpack:///./src/specmap/index.js","webpack:///external \"babel-runtime/core-js/object/create\"","webpack:///external \"lodash/find\"","webpack:///external \"babel-runtime/helpers/toConsumableArray\"","webpack:///external \"babel-runtime/helpers/defineProperty\"","webpack:///external \"fast-json-patch\"","webpack:///external \"deep-extend\"","webpack:///external \"@kyleshockey/object-assign-deep\"","webpack:///./src/specmap/lib/refs.js","webpack:///external \"babel-runtime/core-js/weak-map\"","webpack:///external \"cross-fetch\"","webpack:///external \"querystring-browser\"","webpack:///./src/specmap/lib/all-of.js","webpack:///./src/specmap/lib/parameters.js","webpack:///./src/specmap/lib/properties.js","webpack:///./src/specmap/lib/context-tree.js","webpack:///external \"lodash/isObject\"","webpack:///./src/subtree-resolver/index.js","webpack:///./src/interfaces.js","webpack:///external \"lodash/pick\"","webpack:///./src/execute/index.js","webpack:///external \"babel-runtime/helpers/objectWithoutProperties\"","webpack:///external \"lodash/isPlainObject\"","webpack:///external \"lodash/isArray\"","webpack:///external \"cookie\"","webpack:///./src/execute/swagger2/parameter-builders.js","webpack:///./src/execute/oas3/parameter-builders.js","webpack:///./src/execute/oas3/style-serializer.js","webpack:///external \"encode-3986\"","webpack:///external \"utf8-bytes\"","webpack:///external \"utfstring\"","webpack:///./src/execute/oas3/build-request.js","webpack:///external \"buffer/\"","webpack:///./src/execute/swagger2/build-request.js"],"names":["isOAS3","isSwagger2","opId","idFromPathMethod","legacyIdFromPathMethod","getOperationRaw","findOperation","eachOperation","normalizeSwagger","toLower","String","prototype","toLowerCase","call","str","escapeString","replace","spec","oasVersion","openapi","swaggerVersion","swagger","operation","pathName","method","v2OperationIdCompatibilityMode","idWithoutWhitespace","operationId","length","res","substring","id","paths","rawOperationId","legacyOperationId","some","val","predicate","cb","find","toUpperCase","operationObj","cbValue","parsedSpec","map","$$normalized","path","pathParameters","parameters","oid","push","opList","forEach","o","i","__originalOperationId","obj","inheritsList","toBeInherit","key","inherits","inheritName","param","exists","opParam","name","$ref","$$ref","serializeRes","serializeHeaders","isFile","encodeFormOrQuery","mergeInQueryOrForm","makeHttp","self","url","request","headers","requestInterceptor","contentType","test","userFetch","fetch","responseInterceptor","error","Error","statusText","statusCode","status","responseError","ok","response","http","shouldDownloadAsText","parseBody","body","JSON","parse","jsYaml","safeLoad","oriRes","loadSpec","useText","getBody","text","blob","buffer","then","data","e","parseError","headerValue","header","undefined","Array","isArray","navigatorObj","navigator","product","uri","File","pipe","formatValue","input","skipEncoding","collectionFormat","allowEmptyValue","value","SEPARATORS","csv","ssv","tsv","pipes","encodeFn","encodeURIComponent","join","encodedQuery","reduce","result","parameterName","isObject","a","paramValue","encodedParameterName","notArray","qs","stringify","encode","indices","req","query","form","joinSearch","strs","search","filter","hasFile","FormData","require","append","split","baseUrl","oriSearch","newStr","oriQuery","keysToRemove","finalStr","httpFn","preFetch","postFetch","add","remove","merge","mergeDeep","context","getIn","applyPatch","parentPathMatch","flatten","fullyNormalizeArray","normalizeArray","isPromise","forEachNew","forEachNewPrimitive","isJsonPatch","isContextPatch","isPatch","isMutation","isAdditiveMutation","isGenerator","isFunction","isError","patch","opts","normalizeJSONPath","op","newValue","getInByJsonPath","jsonPatch","currentValue","prop","propVal","existing","concat","currentObj","Object","hasOwnProperty","patches","arr","allowMetaPatches","meta","item","_get","type","mutations","fn","forEachNewPatch","forEachPrimitive","callback","mutation","flat","clean","cleanArray","basePath","results","newResults","arrayResults","moreResults","len","token","elm","thing","regenerator","isGeneratorFunction","jsonPath","getValueByPointer","console","makeFetchJSON","clearCache","resolve","credentials","withCredentials","docPath","Accept","plugins","refs","mode","pathDiscriminator","modelPropertyMacro","parameterMacro","skipNormalization","baseDoc","Http","doResolve","_spec","docCache","fetchJSON","plugs","properties","allOf","createErrorType","init","E","captureStackTrace","stack","constructor","args","message","apply","isFreelyNamed","freelyNamedKeyParents","nonFreelyNamedKeyGrandparents","freelyNamedPaths","freelyNamedAncestors","parentPath","parentKey","grandparentKey","parentStr","indexOf","el","Swagger","bind","Resolver","resolveSubtree","execute","parameterBuilders","PARAMETER_BUILDERS","makeApisTagOperation","buildRequest","helpers","prom","disableInterfaces","client","argHash","applyDefaults","securities","authorized","authorizations","contextUrl","originalSpec","errors","specUrl","parsed","Url","host","schemes","protocol","mapSpec","HARD_LIMIT","SpecMap","debugLevel","pluginHistory","promisedPatches","state","contextTree","ContextTree","showDebug","allPatches","pluginProp","libMethods","lib","get","getContext","_getContext","hasRun","_hasRun","wrappedPlugins","wrapPlugin","updatePatches","level","log","plugin","ctx","createKeyBasedPlugin","pluginName","pluginObj","isSubPath","tested","every","specmap","traverse","parentIndex","parent","indexOfFirstProperties","isRootProperties","traversed","refCache","updatedPath","isObj","objRef","isWithinPathDiscriminator","getMutationsForPlugin","race","getPluginName","getPluginHistory","history","mi","getPluginHistoryTip","mutationIndex","debug","promisedPatchThen","setContext","updateMutations","index","splice","promisedPatch","removePromisedPatch","catch","from","to","slice","getCurrentPlugin","tip","getPluginMutationIndex","getMutations","currentPlugin","set","count","times","getPluginRunCount","that","nextPlugin","nextPromise","nextPromisedPatch","dispatch","pluginCount","promises","p","all","promise","Function","executePlugin","getCurrentMutations","lastMutationIndex","getLib","yieldedPatches","newPatches","updatePluginHistory","ABSOLUTE_URL_REGEXP","RegExp","JSONRefError","extra","oriError","originalError","specmapRefs","ref","fullPath","splitString","refPath","pointer","absoluteify","wrapError","promOrVal","tokens","pointerAlreadyInPath","jsonPointerToArray","extractFromDoc","__value","patchValueAlreadyInPath","mod","getDoc","extract","unescapeJsonPointerToken","doc","v","reject","_doc","TypeError","substr","unescape","escapeJsonPointerToken","escape","arrayToJsonPointer","pointerBoundaryChar","c","pointerIsAParent","parentPointer","nextChar","charAt","lastParentChar","fullyQualifiedPointer","rootDoc","currPath","hasIndirectCycle","root","ancestors","pointToAncestor","k","err","alreadyAddError","originalDefinitionObj","part","allOfPatches","toMerge","opPath","default","createNode","getParent","updateNode","children","branch","child","protoValue","ensureExists","node","returnEntireTree","resolveOptions","normalized","makeExecute","makeApisTagOperationsOperationExecute","mapTagOperations","nullFn","arg","swaggerJs","tagOperations","apis","tag","operations","defaultTag","operationIdCounter","tags","tagObj","cbResult","originalCounterValue","temp","arrayOrEmpty","ar","OperationNotFoundError","findParametersWithName","deduplicateParameters","paramsMap","in","dedupedParameters","userHttp","extras","stockHttp","options","requestContentType","responseContentType","scheme","requestBody","server","serverVariables","specIsOAS3","OAS3_PARAMETER_BUILDERS","SWAGGER2_PARAMETER_BUILDERS","cookies","operationRaw","accept","combinedParameters","parameter","builder","schema","warn","required","versionSpecificOptions","cookieString","prev","cookieName","cookieValue","prefix","stringified","cookie","serialize","Cookie","stripNonAlpha","oas3BaseUrl","swagger2BaseUrl","servers","selectedServerUrl","selectedServerObj","serverUrls","srv","varNames","getVariableTemplateNames","vari","variables","variableDefinition","variableValue","re","buildOas3UrlWithContext","ourUrl","parsedUrl","parsedContextUrl","computedScheme","computedHost","computedPath","pathname","exec","firstSchemeInSpec","bodyBuilder","headerBuilder","queryBuilder","pathBuilder","formData","formDataBuilder","paramName","style","explode","styledValue","valueKeys","allowReserved","PARAMETER_HEADER_BLACKLIST","encodeDisallowedCharacters","config","encodeArray","encodeObject","encodePrimitive","isRfc3986Reserved","char","isRrc3986Unreserved","toString","encoded","byte","encodedByte","valueEncoder","curr","after","middleChar","separator","attachContentTypeForEmptyPayload","applySecurities","requestBodyDef","requestBodyMediaTypes","content","isExplicitContentTypeValid","firstMediaType","newVal","Blob","Buffer","isBuffer","security","isAuthorized","securityDef","securityObj","auth","username","password","Authorization","accessToken","access_token","tokenType","token_type","consumes","isBodyParamPresent","isFormDataParamPresent","specSecurity","securityDefinitions","tokenName","oauthToken","inType","authorization","base64"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f50b5b49931ab1079cb5","module.exports = require(\"babel-runtime/core-js/object/keys\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/keys\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/typeof\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/typeof\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/object/assign\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/assign\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/extends\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/extends\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"babel-runtime/regenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/regenerator\"\n// module id = 4\n// module chunks = 0","import isObject from 'lodash/isObject'\nimport startsWith from 'lodash/startsWith'\n\nconst toLower = str => String.prototype.toLowerCase.call(str)\nconst escapeString = (str) => {\n  return str.replace(/[^\\w]/gi, '_')\n}\n\n// Spec version detection\nexport function isOAS3(spec) {\n  const oasVersion = spec.openapi\n  if (!oasVersion) {\n    return false\n  }\n\n  return startsWith(oasVersion, '3')\n}\n\nexport function isSwagger2(spec) {\n  const swaggerVersion = spec.swagger\n  if (!swaggerVersion) {\n    return false\n  }\n\n  return startsWith(swaggerVersion, '2')\n}\n\n// Strategy for determining operationId\nexport function opId(operation, pathName, method = '', {v2OperationIdCompatibilityMode} = {}) {\n  if (!operation || typeof operation !== 'object') {\n    return null\n  }\n  const idWithoutWhitespace = (operation.operationId || '').replace(/\\s/g, '')\n  if (idWithoutWhitespace.length) {\n    return escapeString(operation.operationId)\n  }\n  return idFromPathMethod(pathName, method, {v2OperationIdCompatibilityMode})\n}\n\n\n// Create a generated operationId from pathName + method\nexport function idFromPathMethod(pathName, method, {v2OperationIdCompatibilityMode} = {}) {\n  if (v2OperationIdCompatibilityMode) {\n    let res = `${method.toLowerCase()}_${pathName}`\n      .replace(/[\\s!@#$%^&*()_+=[{\\]};:<>|./?,\\\\'\"\"-]/g, '_')\n\n    res = res || `${pathName.substring(1)}_${method}`\n\n    return res\n      .replace(/((_){2,})/g, '_')\n      .replace(/^(_)*/g, '')\n      .replace(/([_])*$/g, '')\n  }\n  return `${toLower(method)}${escapeString(pathName)}`\n}\n\nexport function legacyIdFromPathMethod(pathName, method) {\n  return `${toLower(method)}-${pathName}`\n}\n\n// Get the operation, based on operationId ( just return the object, no inheritence )\nexport function getOperationRaw(spec, id) {\n  if (!spec || !spec.paths) {\n    return null\n  }\n\n\n  return findOperation(spec, ({pathName, method, operation}) => {\n    if (!operation || typeof operation !== 'object') {\n      return false\n    }\n\n    const rawOperationId = operation.operationId // straight from the source\n    const operationId = opId(operation, pathName, method)\n    const legacyOperationId = legacyIdFromPathMethod(pathName, method)\n\n    return [operationId, legacyOperationId, rawOperationId]\n      .some(val => val && val === id)\n  })\n}\n\n// Will stop iterating over the operations and return the operationObj\n// as soon as predicate returns true\nexport function findOperation(spec, predicate) {\n  return eachOperation(spec, predicate, true) || null\n}\n\n// iterate over each operation, and fire a callback with details\n// `find=true` will stop iterating, when the cb returns truthy\nexport function eachOperation(spec, cb, find) {\n  if (!spec || typeof spec !== 'object' || !spec.paths || typeof spec.paths !== 'object') {\n    return null\n  }\n\n  const {paths} = spec\n\n  // Iterate over the spec, collecting operations\n  for (const pathName in paths) {\n    for (const method in paths[pathName]) {\n      if (method.toUpperCase() === 'PARAMETERS') {\n        continue\n      }\n      const operation = paths[pathName][method]\n      if (!operation || typeof operation !== 'object') {\n        continue\n      }\n\n      const operationObj = {\n        spec,\n        pathName,\n        method: method.toUpperCase(),\n        operation\n      }\n      const cbValue = cb(operationObj)\n\n      if (find && cbValue) {\n        return operationObj\n      }\n    }\n  }\n}\n\n// REVIEW: OAS3: identify normalization steps that need changes\n// ...maybe create `normalizeOAS3`?\n\nexport function normalizeSwagger(parsedSpec) {\n  const {spec} = parsedSpec\n  const {paths} = spec\n  const map = {}\n\n  if (!paths || spec.$$normalized) {\n    return parsedSpec\n  }\n\n  for (const pathName in paths) {\n    const path = paths[pathName]\n\n    if (!isObject(path)) {\n      continue\n    }\n\n    const pathParameters = path.parameters\n\n    for (const method in path) {\n      const operation = path[method]\n      if (!isObject(operation)) {\n        continue\n      }\n\n      const oid = opId(operation, pathName, method)\n\n      if (oid) {\n        if (map[oid]) {\n          map[oid].push(operation)\n        }\n        else {\n          map[oid] = [operation]\n        }\n\n        const opList = map[oid]\n        if (opList.length > 1) {\n          opList.forEach((o, i) => {\n            o.__originalOperationId = o.__originalOperationId || o.operationId\n            o.operationId = `${oid}${i + 1}`\n          })\n        }\n        else if (typeof operation.operationId !== 'undefined') {\n          // Ensure we always add the normalized operation ID if one already exists\n          // ( potentially different, given that we normalize our IDs)\n          // ... _back_ to the spec. Otherwise, they might not line up\n          const obj = opList[0]\n          obj.__originalOperationId = obj.__originalOperationId || operation.operationId\n          obj.operationId = oid\n        }\n      }\n\n      if (method !== 'parameters') {\n        // Add inherited consumes, produces, parameters, securities\n        const inheritsList = []\n        const toBeInherit = {}\n\n        // Global-levels\n        for (const key in spec) {\n          if (key === 'produces' || key === 'consumes' || key === 'security') {\n            toBeInherit[key] = spec[key]\n            inheritsList.push(toBeInherit)\n          }\n        }\n\n        // Path-levels\n        if (pathParameters) {\n          toBeInherit.parameters = pathParameters\n          inheritsList.push(toBeInherit)\n        }\n\n        if (inheritsList.length) {\n          for (const inherits of inheritsList) {\n            for (const inheritName in inherits) {\n              if (!operation[inheritName]) {\n                operation[inheritName] = inherits[inheritName]\n              }\n              else if (inheritName === 'parameters') {\n                for (const param of inherits[inheritName]) {\n                  const exists = operation[inheritName].some((opParam) => {\n                    return (opParam.name && opParam.name === param.name)\n                      || (opParam.$ref && opParam.$ref === param.$ref)\n                      || (opParam.$$ref && opParam.$$ref === param.$$ref)\n                      || (opParam === param)\n                  })\n\n                  if (!exists) {\n                    operation[inheritName].push(param)\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  spec.$$normalized = true\n\n  return parsedSpec\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers.js","module.exports = require(\"lodash/assign\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/assign\"\n// module id = 6\n// module chunks = 0","import 'cross-fetch/polyfill' /* global fetch */\nimport qs from 'qs'\nimport jsYaml from '@kyleshockey/js-yaml'\nimport isString from 'lodash/isString'\n\n// For testing\nexport const self = {\n  serializeRes,\n  mergeInQueryOrForm\n}\n\n// Handles fetch-like syntax and the case where there is only one object passed-in\n// (which will have the URL as a property). Also serilizes the response.\nexport default async function http(url, request = {}) {\n  if (typeof url === 'object') {\n    request = url\n    url = request.url\n  }\n\n  request.headers = request.headers || {}\n\n  // Serializes query, for convenience\n  // Should be the last thing we do, as its hard to mutate the URL with\n  // the search string, but much easier to manipulate the req.query object\n  self.mergeInQueryOrForm(request)\n\n  if (request.requestInterceptor) {\n    request = await request.requestInterceptor(request) || request\n  }\n\n  // for content-type=multipart\\/form-data remove content-type from request before fetch\n  // so that correct one with `boundary` is set\n  const contentType = request.headers['content-type'] || request.headers['Content-Type']\n  if (/multipart\\/form-data/i.test(contentType)) {\n    delete request.headers['content-type']\n    delete request.headers['Content-Type']\n  }\n\n  // eslint-disable-next-line no-undef\n  let res\n  try {\n    res = await (request.userFetch || fetch)(request.url, request)\n    res = await self.serializeRes(res, url, request)\n    if (request.responseInterceptor) {\n      res = await request.responseInterceptor(res) || res\n    }\n  }\n  catch (resError) {\n    if (!res) {\n      // res is completely absent, so we can't construct our own error\n      // so we'll just throw the error we got\n      throw resError\n    }\n    const error = new Error(res.statusText)\n    error.statusCode = error.status = res.status\n    error.responseError = resError\n    throw error\n  }\n  if (!res.ok) {\n    const error = new Error(res.statusText)\n    error.statusCode = error.status = res.status\n    error.response = res\n    throw error\n  }\n  return res\n}\n\n// exported for testing\nexport const shouldDownloadAsText = (contentType = '') => /(json|xml|yaml|text)\\b/.test(contentType)\n\nfunction parseBody(body, contentType) {\n  if (contentType === 'application/json') {\n    return JSON.parse(body)\n  }\n  return jsYaml.safeLoad(body)\n}\n\n// Serialize the response, returns a promise with headers and the body part of the hash\nexport function serializeRes(oriRes, url, {loadSpec = false} = {}) {\n  const res = {\n    ok: oriRes.ok,\n    url: oriRes.url || url,\n    status: oriRes.status,\n    statusText: oriRes.statusText,\n    headers: serializeHeaders(oriRes.headers)\n  }\n\n  const contentType = res.headers['content-type']\n  const useText = loadSpec || shouldDownloadAsText(contentType)\n\n  // Note: Response.blob not implemented in node-fetch 1.  Use buffer instead.\n  const getBody = useText ? oriRes.text : (oriRes.blob || oriRes.buffer)\n\n  return getBody.call(oriRes).then((body) => {\n    res.text = body\n    res.data = body\n\n    if (useText) {\n      try {\n        const obj = parseBody(body, contentType)\n        res.body = obj\n        res.obj = obj\n      }\n      catch (e) {\n        res.parseError = e\n      }\n    }\n    return res\n  })\n}\n\n// Serialize headers into a hash, where mutliple-headers result in an array.\n//\n// eg: Cookie: one\n//     Cookie: two\n//  =  { Cookie: [ \"one\", \"two\" ]\nexport function serializeHeaders(headers = {}) {\n  const obj = {}\n\n  // Iterate over headers, making multiple-headers into an array\n  if (typeof headers.forEach === 'function') {\n    headers.forEach((headerValue, header) => {\n      if (obj[header] !== undefined) {\n        obj[header] = Array.isArray(obj[header]) ? obj[header] : [obj[header]]\n        obj[header].push(headerValue)\n      }\n      else {\n        obj[header] = headerValue\n      }\n    })\n    return obj\n  }\n\n  return obj\n}\n\nexport function isFile(obj, navigatorObj = navigator) {\n  if (navigatorObj && navigatorObj.product === 'ReactNative') {\n    if (obj && typeof obj === 'object' && typeof obj.uri === 'string') {\n      return true\n    }\n    return false\n  }\n  if (typeof File !== 'undefined') {\n    return obj instanceof File\n  }\n  return obj !== null && typeof obj === 'object' && typeof obj.pipe === 'function'\n}\n\nfunction formatValue(input, skipEncoding) {\n  const {collectionFormat, allowEmptyValue} = input\n\n  // `input` can be string in OAS3 contexts\n  const value = typeof input === 'object' ? input.value : input\n\n  const SEPARATORS = {\n    csv: ',',\n    ssv: '%20',\n    tsv: '%09',\n    pipes: '|'\n  }\n\n  if (typeof value === 'undefined' && allowEmptyValue) {\n    return ''\n  }\n\n  if (isFile(value) || typeof value === 'boolean') {\n    return value\n  }\n\n  let encodeFn = encodeURIComponent\n  if (skipEncoding) {\n    if (isString(value)) encodeFn = str => str\n    else encodeFn = obj => JSON.stringify(obj)\n  }\n\n  if (typeof value === 'object' && !Array.isArray(value)) {\n    return ''\n  }\n\n  if (!Array.isArray(value)) {\n    return encodeFn(value)\n  }\n\n  if (Array.isArray(value) && !collectionFormat) {\n    return value.map(encodeFn).join(',')\n  }\n  if (collectionFormat === 'multi') {\n    return value.map(encodeFn)\n  }\n  return value.map(encodeFn).join(SEPARATORS[collectionFormat])\n}\n\n// Encodes an object using appropriate serializer.\nexport function encodeFormOrQuery(data) {\n  /**\n   * Encode parameter names and values\n   * @param {Object} result - parameter names and values\n   * @param {string} parameterName - Parameter name\n   * @return {object} encoded parameter names and values\n   */\n  const encodedQuery = Object.keys(data).reduce((result, parameterName) => {\n    const isObject = a => a && typeof a === 'object'\n    const paramValue = data[parameterName]\n    const skipEncoding = !!paramValue.skipEncoding\n    const encodedParameterName = skipEncoding ? parameterName : encodeURIComponent(parameterName)\n    const notArray = isObject(paramValue) && !Array.isArray(paramValue)\n    result[encodedParameterName] = formatValue(\n      notArray ? paramValue : {value: paramValue}, skipEncoding\n    )\n    return result\n  }, {})\n  return qs.stringify(encodedQuery, {encode: false, indices: false}) || ''\n}\n\n// If the request has a `query` object, merge it into the request.url, and delete the object\nexport function mergeInQueryOrForm(req = {}) {\n  const {url = '', query, form} = req\n\n  const joinSearch = (...strs) => {\n    const search = strs.filter(a => a).join('&') // Only truthy value\n    return search ? `?${search}` : '' // Only add '?' if there is a str\n  }\n\n  if (form) {\n    const hasFile = Object.keys(form).some((key) => {\n      return isFile(form[key].value)\n    })\n\n    const contentType = req.headers['content-type'] || req.headers['Content-Type']\n\n    if (hasFile || /multipart\\/form-data/i.test(contentType)) {\n      const FormData = require('isomorphic-form-data') // eslint-disable-line global-require\n      req.body = new FormData()\n      Object.keys(form).forEach((key) => {\n        req.body.append(key, formatValue(form[key], true))\n      })\n    }\n    else {\n      req.body = encodeFormOrQuery(form)\n    }\n\n    delete (req.form)\n  }\n\n  if (query) {\n    const [baseUrl, oriSearch] = url.split('?')\n    let newStr = ''\n\n    if (oriSearch) {\n      const oriQuery = qs.parse(oriSearch)\n      const keysToRemove = Object.keys(query)\n      keysToRemove.forEach(key => delete oriQuery[key])\n      newStr = qs.stringify(oriQuery, {encode: true})\n    }\n\n    const finalStr = joinSearch(newStr, encodeFormOrQuery(query))\n    req.url = baseUrl + finalStr\n    delete (req.query)\n  }\n  return req\n}\n\n// Wrap a http function ( there are otherways to do this, conisder this deprecated )\nexport function makeHttp(httpFn, preFetch, postFetch) {\n  postFetch = postFetch || (a => a)\n  preFetch = preFetch || (a => a)\n\n  return (req) => {\n    if (typeof req === 'string') {\n      req = {url: req}\n    }\n    self.mergeInQueryOrForm(req)\n    req = preFetch(req)\n    return postFetch(httpFn(req))\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/http.js","module.exports = require(\"babel-runtime/core-js/json/stringify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/json/stringify\"\n// module id = 8\n// module chunks = 0","import jsonPatch from 'fast-json-patch'\nimport regenerator from 'babel-runtime/regenerator'\nimport deepExtend from 'deep-extend'\nimport deepAssign from '@kyleshockey/object-assign-deep'\n\nexport default {\n  add,\n  replace,\n  remove,\n  merge,\n  mergeDeep,\n  context,\n  getIn,\n  applyPatch,\n  parentPathMatch,\n  flatten,\n  fullyNormalizeArray,\n  normalizeArray,\n  isPromise,\n  forEachNew,\n  forEachNewPrimitive,\n  isJsonPatch,\n  isContextPatch,\n  isPatch,\n  isMutation,\n  isAdditiveMutation,\n  isGenerator,\n  isFunction,\n  isObject,\n  isError\n}\n\nfunction applyPatch(obj, patch, opts) {\n  opts = opts || {}\n\n  patch = Object.assign({}, patch, {\n    path: patch.path && normalizeJSONPath(patch.path)\n  })\n\n  if (patch.op === 'merge') {\n    const newValue = getInByJsonPath(obj, patch.path)\n    Object.assign(newValue, patch.value)\n    jsonPatch.applyPatch(obj, [replace(patch.path, newValue)])\n  }\n  else if (patch.op === 'mergeDeep') {\n    const currentValue = getInByJsonPath(obj, patch.path)\n\n    // Iterate the properties of the patch\n    for (const prop in patch.value) {\n      const propVal = patch.value[prop]\n      const isArray = Array.isArray(propVal)\n      if (isArray) {\n        // deepExtend doesn't merge arrays, so we will do it manually\n        const existing = currentValue[prop] || []\n        currentValue[prop] = existing.concat(propVal)\n      }\n      else if (isObject(propVal) && !isArray) {\n        // If it's an object, iterate it's keys and merge\n        // if there are conflicting keys, merge deep, otherwise shallow merge\n        let currentObj = Object.assign({}, currentValue[prop])\n        for (const key in propVal) {\n          if (Object.prototype.hasOwnProperty.call(currentObj, key)) {\n            // if there is a single conflicting key, just deepExtend the entire value\n            // and break from the loop (since all future keys are also merged)\n            // We do this because we can't deepExtend two primitives\n            // (currentObj[key] & propVal[key] may be primitives).\n            //\n            // we also deeply assign here, since we aren't in control of\n            // how deepExtend affects existing nested objects\n            currentObj = deepExtend(deepAssign({}, currentObj), propVal)\n            break\n          }\n          else {\n            Object.assign(currentObj, {[key]: propVal[key]})\n          }\n        }\n        currentValue[prop] = currentObj\n      }\n      else {\n        // It's a primitive, just replace existing\n        currentValue[prop] = propVal\n      }\n    }\n  }\n  else if (patch.op === 'add' && patch.path === '' && isObject(patch.value)) {\n    // { op: 'add', path: '', value: { a: 1, b: 2 }}\n    // has no effect: json patch refuses to do anything.\n    // so let's break that patch down into a set of patches,\n    // one for each key in the intended root value.\n\n    const patches = Object.keys(patch.value)\n      .reduce((arr, key) => {\n        arr.push({\n          op: 'add',\n          path: `/${normalizeJSONPath(key)}`,\n          value: patch.value[key]\n        })\n        return arr\n      }, [])\n\n    jsonPatch.applyPatch(obj, patches)\n  }\n  else if (patch.op === 'replace' && patch.path === '') {\n    let value = patch.value\n\n    if (opts.allowMetaPatches && patch.meta && isAdditiveMutation(patch) &&\n        (Array.isArray(patch.value) || isObject(patch.value))) {\n      value = Object.assign({}, value, patch.meta)\n    }\n    obj = value\n  }\n  else {\n    jsonPatch.applyPatch(obj, [patch])\n\n    // Attach metadata to the resulting value.\n    if (opts.allowMetaPatches && patch.meta && isAdditiveMutation(patch) &&\n        (Array.isArray(patch.value) || isObject(patch.value))) {\n      const currentValue = getInByJsonPath(obj, patch.path)\n      const newValue = Object.assign({}, currentValue, patch.meta)\n      jsonPatch.applyPatch(obj, [replace(patch.path, newValue)])\n    }\n  }\n\n  return obj\n}\n\nfunction normalizeJSONPath(path) {\n  if (Array.isArray(path)) {\n    if (path.length < 1) {\n      return ''\n    }\n\n    return '/' + path.map((item) => { // eslint-disable-line prefer-template\n      return (item + '').replace(/~/g, '~0').replace(/\\//g, '~1') // eslint-disable-line prefer-template\n    }).join('/')\n  }\n\n  return path\n}\n\n\n// =========================\n// JSON-Patch Wrappers\n// =========================\n\nfunction add(path, value) {\n  return {op: 'add', path, value}\n}\n\nfunction _get(path) {\n  return {op: '_get', path}\n}\n\nfunction replace(path, value, meta) {\n  return {op: 'replace', path, value, meta}\n}\n\nfunction remove(path, value) {\n  return {op: 'remove', path}\n}\n\n// Custom wrappers\nfunction merge(path, value) {\n  return {type: 'mutation', op: 'merge', path, value}\n}\n\n// Custom wrappers\nfunction mergeDeep(path, value) {\n  return {type: 'mutation', op: 'mergeDeep', path, value}\n}\n\nfunction context(path, value) {\n  return {type: 'context', path, value}\n}\n\n\n// =========================\n// Iterators\n// =========================\n\nfunction forEachNew(mutations, fn) {\n  try {\n    return forEachNewPatch(mutations, forEach, fn)\n  }\n  catch (e) {\n    return e\n  }\n}\n\nfunction forEachNewPrimitive(mutations, fn) {\n  try {\n    return forEachNewPatch(mutations, forEachPrimitive, fn)\n  }\n  catch (e) {\n    return e\n  }\n}\n\nfunction forEachNewPatch(mutations, fn, callback) {\n  const res = mutations.filter(isAdditiveMutation).map((mutation) => {\n    return fn(mutation.value, callback, mutation.path)\n  }) || []\n  const flat = flatten(res)\n  const clean = cleanArray(flat)\n  return clean\n}\n\nfunction forEachPrimitive(obj, fn, basePath) {\n  basePath = basePath || []\n\n  if (Array.isArray(obj)) {\n    return obj.map((val, key) => {\n      return forEachPrimitive(val, fn, basePath.concat(key))\n    })\n  }\n\n  if (isObject(obj)) {\n    return Object.keys(obj).map((key) => {\n      return forEachPrimitive(obj[key], fn, basePath.concat(key))\n    })\n  }\n\n  return fn(obj, basePath[basePath.length - 1], basePath)\n}\n\nfunction forEach(obj, fn, basePath) {\n  basePath = basePath || []\n\n  let results = []\n  if (basePath.length > 0) {\n    const newResults = fn(obj, basePath[basePath.length - 1], basePath)\n    if (newResults) {\n      results = results.concat(newResults)\n    }\n  }\n\n  if (Array.isArray(obj)) {\n    const arrayResults = obj.map((val, key) => {\n      return forEach(val, fn, basePath.concat(key))\n    })\n    if (arrayResults) {\n      results = results.concat(arrayResults)\n    }\n  }\n  else if (isObject(obj)) {\n    const moreResults = Object.keys(obj).map((key) => {\n      return forEach(obj[key], fn, basePath.concat(key))\n    })\n    if (moreResults) {\n      results = results.concat(moreResults)\n    }\n  }\n\n  results = flatten(results)\n  return results\n}\n\n\n// =========================\n// Paths\n// =========================\n\nfunction parentPathMatch(path, arr) {\n  if (!Array.isArray(arr)) {\n    return false\n  }\n\n  for (let i = 0, len = arr.length; i < len; i++) {\n    if (arr[i] !== path[i]) {\n      return false\n    }\n  }\n\n  return true\n}\n\nfunction getIn(obj, path) {\n  return path.reduce((val, token) => {\n    if (typeof token !== 'undefined' && val) {\n      return val[token]\n    }\n    return val\n  }, obj)\n}\n\n// =========================\n// Array\n// =========================\n\nfunction fullyNormalizeArray(arr) {\n  return cleanArray(flatten(normalizeArray(arr)))\n}\n\nfunction normalizeArray(arr) {\n  return Array.isArray(arr) ? arr : [arr]\n}\n\nfunction flatten(arr) {\n  return [].concat(...arr.map((val) => {\n    return Array.isArray(val) ? flatten(val) : val\n  }))\n}\n\nfunction cleanArray(arr) {\n  return arr.filter(elm => typeof elm !== 'undefined')\n}\n\n\n// =========================\n// Is-Thing.\n// =========================\n\nfunction isObject(val) {\n  return val && typeof val === 'object'\n}\n\nfunction isPromise(val) {\n  return isObject(val) && isFunction(val.then)\n}\n\nfunction isFunction(val) {\n  return val && typeof val === 'function'\n}\n\nfunction isError(patch) {\n  return patch instanceof Error\n}\n\nfunction isJsonPatch(patch) {\n  if (isPatch(patch)) {\n    const op = patch.op\n    return op === 'add' || op === 'remove' || op === 'replace'\n  }\n  return false\n}\n\nfunction isGenerator(thing) {\n  return regenerator.isGeneratorFunction(thing)\n}\n\nfunction isMutation(patch) {\n  return isJsonPatch(patch) || (isPatch(patch) && patch.type === 'mutation')\n}\n\nfunction isAdditiveMutation(patch) {\n  return isMutation(patch) && (patch.op === 'add' || patch.op === 'replace' || patch.op === 'merge' || patch.op === 'mergeDeep')\n}\n\nfunction isContextPatch(patch) {\n  return isPatch(patch) && patch.type === 'context'\n}\n\nfunction isPatch(patch) {\n  return patch && typeof patch === 'object'\n}\n\nfunction getInByJsonPath(obj, jsonPath) {\n  try {\n    return jsonPatch.getValueByPointer(obj, jsonPath)\n  }\n  catch (e) {\n    console.error(e) // eslint-disable-line no-console\n    return {}\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/specmap/lib/index.js","module.exports = require(\"url\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"url\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/asyncToGenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/asyncToGenerator\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"lodash/get\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/get\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"btoa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"btoa\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"lodash/startsWith\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/startsWith\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"@kyleshockey/js-yaml\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@kyleshockey/js-yaml\"\n// module id = 15\n// module chunks = 0","import Http from './http'\nimport mapSpec, {plugins} from './specmap'\nimport {normalizeSwagger} from './helpers'\n\nexport function makeFetchJSON(http, opts = {}) {\n  const {requestInterceptor, responseInterceptor} = opts\n  // Set credentials with 'http.withCredentials' value\n  const credentials = (http.withCredentials) ? 'include' : 'same-origin'\n  return (docPath) => {\n    return http({\n      url: docPath,\n      loadSpec: true,\n      requestInterceptor,\n      responseInterceptor,\n      headers: {\n        Accept: 'application/json'\n      },\n      credentials\n    })\n    .then((res) => {\n      return res.body\n    })\n  }\n}\n\n// Wipe out the http cache\nexport function clearCache() {\n  plugins.refs.clearCache()\n}\n\nexport default function resolve(obj) {\n  const {\n    fetch, spec, url, mode, allowMetaPatches = true, pathDiscriminator,\n    modelPropertyMacro, parameterMacro, requestInterceptor,\n    responseInterceptor, skipNormalization\n  } = obj\n\n  let {http, baseDoc} = obj\n\n  // @TODO Swagger-UI uses baseDoc instead of url, this is to allow both\n  // need to fix and pick one.\n  baseDoc = baseDoc || url\n\n  // Provide a default fetch implementation\n  // TODO fetch should be removed, and http used instead\n  http = fetch || http || Http\n\n  if (!spec) {\n    return makeFetchJSON(http, {requestInterceptor, responseInterceptor})(baseDoc).then(doResolve)\n  }\n\n  return doResolve(spec)\n\n  function doResolve(_spec) {\n    if (baseDoc) {\n      plugins.refs.docCache[baseDoc] = _spec\n    }\n\n    // Build a json-fetcher ( ie: give it a URL and get json out )\n    plugins.refs.fetchJSON = makeFetchJSON(http, {requestInterceptor, responseInterceptor})\n\n    const plugs = [plugins.refs]\n\n    if (typeof parameterMacro === 'function') {\n      plugs.push(plugins.parameters)\n    }\n\n    if (typeof modelPropertyMacro === 'function') {\n      plugs.push(plugins.properties)\n    }\n\n    if (mode !== 'strict') {\n      plugs.push(plugins.allOf)\n    }\n\n    // mapSpec is where the hard work happens, see https://github.com/swagger-api/specmap for more details\n    return mapSpec({\n      spec: _spec,\n      context: {baseDoc},\n      plugins: plugs,\n      allowMetaPatches, // allows adding .meta patches, which include adding `$$ref`s to the spec\n      pathDiscriminator, // for lazy resolution\n      parameterMacro,\n      modelPropertyMacro\n    }).then(skipNormalization ? async a => a : normalizeSwagger)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/resolver.js","module.exports = require(\"babel-runtime/core-js/promise\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/promise\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/get-iterator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/get-iterator\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/classCallCheck\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/classCallCheck\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/createClass\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/createClass\"\n// module id = 20\n// module chunks = 0","export default function createErrorType(name, init) {\n  function E(...args) {\n    if (!Error.captureStackTrace) {\n      this.stack = (new Error()).stack\n    }\n    else {\n      Error.captureStackTrace(this, this.constructor)\n    }\n    this.message = args[0]\n    init && init.apply(this, args)\n  }\n\n  E.prototype = new Error()\n  E.prototype.name = name\n  E.prototype.constructor = E\n\n  return E\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/specmap/lib/create-error.js","/* eslint-disable import/prefer-default-export */\n//\n// if/when another helper is added to this file,\n// please remove the eslint override and this comment!\n\n// This will match if the direct parent's key exactly matches an item.\nconst freelyNamedKeyParents = [\n  'properties',\n]\n\n// This will match if the grandparent's key exactly matches an item.\n// NOTE that this is for finding non-free paths!\nconst nonFreelyNamedKeyGrandparents = [\n  'properties',\n]\n\n// This will match if the joined parent path exactly matches an item.\n//\n// This is mostly useful for filtering out root-level reusable item names,\n// for example `[\"definitions\", \"$ref\"]`\nconst freelyNamedPaths = [\n  // Swagger 2.0\n  'definitions',\n  'parameters',\n  'responses',\n  'securityDefinitions',\n\n  // OpenAPI 3.0\n  'components/schemas',\n  'components/responses',\n  'components/parameters',\n  'components/securitySchemes'\n]\n\n// This will match if any of these items are substrings of the joined\n// parent path.\n//\n// Warning! These are powerful. Beware of edge cases.\nconst freelyNamedAncestors = [\n  'schema/example'\n]\n\nexport function isFreelyNamed(parentPath) {\n  const parentKey = parentPath[parentPath.length - 1]\n  const grandparentKey = parentPath[parentPath.length - 2]\n  const parentStr = parentPath.join('/')\n\n  return (\n    // eslint-disable-next-line max-len\n    (freelyNamedKeyParents.indexOf(parentKey) > -1 && nonFreelyNamedKeyGrandparents.indexOf(grandparentKey) === -1) ||\n    (freelyNamedPaths.indexOf(parentStr) > -1) ||\n    (freelyNamedAncestors.some(el => parentStr.indexOf(el) > -1))\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/specmap/helpers.js","import cloneDeep from 'lodash/cloneDeep'\nimport assign from 'lodash/assign'\nimport startsWith from 'lodash/startsWith'\nimport Url from 'url'\nimport Http, {makeHttp, serializeRes, serializeHeaders} from './http'\nimport Resolver, {clearCache} from './resolver'\nimport resolveSubtree from './subtree-resolver'\nimport {makeApisTagOperation} from './interfaces'\nimport {execute, buildRequest, PARAMETER_BUILDERS} from './execute'\nimport {opId} from './helpers'\n\nSwagger.http = Http\nSwagger.makeHttp = makeHttp.bind(null, Swagger.http)\nSwagger.resolve = Resolver\nSwagger.resolveSubtree = resolveSubtree\nSwagger.execute = execute\nSwagger.serializeRes = serializeRes\nSwagger.serializeHeaders = serializeHeaders\nSwagger.clearCache = clearCache\nSwagger.parameterBuilders = PARAMETER_BUILDERS // Add this to the execute call\nSwagger.makeApisTagOperation = makeApisTagOperation\nSwagger.buildRequest = buildRequest\nSwagger.helpers = {opId}\n\nfunction Swagger(url, opts = {}) {\n  // Allow url as a separate argument\n  if (typeof url === 'string') {\n    opts.url = url\n  }\n  else {\n    opts = url\n  }\n\n  if (!(this instanceof Swagger)) {\n    return new Swagger(opts)\n  }\n\n  assign(this, opts)\n\n  const prom = this.resolve()\n    .then(() => {\n      if (!this.disableInterfaces) {\n        assign(this, Swagger.makeApisTagOperation(this))\n      }\n      return this\n    })\n\n  // Expose this instance on the promise that gets returned\n  prom.client = this\n  return prom\n}\n\nSwagger.prototype = {\n\n  http: Http,\n\n  execute(argHash) {\n    this.applyDefaults()\n\n    return Swagger.execute({\n      spec: this.spec,\n      http: this.http,\n      securities: {authorized: this.authorizations},\n      contextUrl: typeof this.url === 'string' ? this.url : undefined,\n      ...argHash\n    })\n  },\n\n  resolve() {\n    return Swagger.resolve({\n      spec: this.spec,\n      url: this.url,\n      allowMetaPatches: this.allowMetaPatches,\n      requestInterceptor: this.requestInterceptor || null,\n      responseInterceptor: this.responseInterceptor || null\n    }).then((obj) => {\n      this.originalSpec = this.spec\n      this.spec = obj.spec\n      this.errors = obj.errors\n      return this\n    })\n  }\n}\n\nSwagger.prototype.applyDefaults = function () {\n  const spec = this.spec\n  const specUrl = this.url\n  // TODO: OAS3: support servers here\n  if (specUrl && startsWith(specUrl, 'http')) {\n    const parsed = Url.parse(specUrl)\n    if (!spec.host) {\n      spec.host = parsed.host\n    }\n    if (!spec.schemes) {\n      spec.schemes = [parsed.protocol.replace(':', '')]\n    }\n    if (!spec.basePath) {\n      spec.basePath = '/'\n    }\n  }\n}\n\nexport default Swagger\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = require(\"lodash/cloneDeep\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/cloneDeep\"\n// module id = 25\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/slicedToArray\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/slicedToArray\"\n// module id = 26\n// module chunks = 0","module.exports = require(\"cross-fetch/polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cross-fetch/polyfill\"\n// module id = 27\n// module chunks = 0","module.exports = require(\"qs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"qs\"\n// module id = 28\n// module chunks = 0","module.exports = require(\"lodash/isString\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/isString\"\n// module id = 29\n// module chunks = 0","module.exports = require(\"isomorphic-form-data\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"isomorphic-form-data\"\n// module id = 30\n// module chunks = 0","import find from 'lodash/find'\n\nimport lib from './lib'\nimport refs from './lib/refs'\nimport allOf from './lib/all-of'\nimport parameters from './lib/parameters'\nimport properties from './lib/properties'\nimport ContextTree from './lib/context-tree'\n\nconst HARD_LIMIT = 100\n\nclass SpecMap {\n  constructor(opts) {\n    Object.assign(this, {\n      spec: '',\n      debugLevel: 'info',\n      plugins: [],\n      pluginHistory: {},\n      errors: [],\n      mutations: [],\n      promisedPatches: [],\n      state: {},\n      patches: [],\n      context: {},\n      contextTree: new ContextTree(),\n      showDebug: false,\n      allPatches: [], // only populated if showDebug is true\n      pluginProp: 'specMap',\n      libMethods: Object.assign(Object.create(this), lib),\n      allowMetaPatches: false,\n    }, opts)\n\n    // Lib methods bound\n    this.get = this._get.bind(this)\n    this.getContext = this._getContext.bind(this)\n    this.hasRun = this._hasRun.bind(this)\n\n    this.wrappedPlugins = this.plugins\n      .map(this.wrapPlugin.bind(this))\n      .filter(lib.isFunction)\n\n    // Initial patch(s)\n    this.patches.push(lib.add([], this.spec))\n    this.patches.push(lib.context([], this.context))\n    this.updatePatches(this.patches)\n  }\n\n  debug(level, ...args) {\n    if (this.debugLevel === level) {\n      console.log(...args) // eslint-disable-line no-console\n    }\n  }\n\n  verbose(header, ...args) {\n    if (this.debugLevel === 'verbose') {\n      console.log(`[${header}]   `, ...args) // eslint-disable-line no-console\n    }\n  }\n\n  wrapPlugin(plugin, name) {\n    const pathDiscriminator = this.pathDiscriminator\n    let ctx = null\n    let fn\n\n    if (plugin[this.pluginProp]) {\n      ctx = plugin\n      fn = plugin[this.pluginProp]\n    }\n    else if (lib.isFunction(plugin)) {\n      fn = plugin\n    }\n    else if (lib.isObject(plugin)) {\n      fn = createKeyBasedPlugin(plugin)\n    }\n\n    return Object.assign(fn.bind(ctx), {\n      pluginName: plugin.name || name,\n      isGenerator: lib.isGenerator(fn)\n    })\n\n    // Expected plugin interface: {key: string, plugin: fn*}\n    // This traverses depth-first and immediately applies yielded patches.\n    // This strategy should work well for most plugins (including the built-ins).\n    // We might consider making this (traversing & application) configurable later.\n    function createKeyBasedPlugin(pluginObj) {\n      const isSubPath = (path, tested) => {\n        if (!Array.isArray(path)) {\n          return true\n        }\n\n        return path.every((val, i) => {\n          return val === tested[i]\n        })\n      }\n\n      return function* (patches, specmap) {\n        const refCache = {}\n\n        for (const patch of patches.filter(lib.isAdditiveMutation)) {\n          yield* traverse(patch.value, patch.path, patch)\n        }\n\n        function* traverse(obj, path, patch) {\n          if (!lib.isObject(obj)) {\n            if (pluginObj.key === path[path.length - 1]) {\n              yield pluginObj.plugin(obj, pluginObj.key, path, specmap)\n            }\n          }\n          else {\n            const parentIndex = path.length - 1\n            const parent = path[parentIndex]\n            const indexOfFirstProperties = path.indexOf('properties')\n            const isRootProperties = parent === 'properties' && parentIndex === indexOfFirstProperties\n            const traversed = specmap.allowMetaPatches && refCache[obj.$$ref]\n\n            for (const key of Object.keys(obj)) {\n              const val = obj[key]\n              const updatedPath = path.concat(key)\n              const isObj = lib.isObject(val)\n              const objRef = obj.$$ref\n\n              if (!traversed) {\n                if (isObj) {\n                  // Only store the ref if it exists\n                  if (specmap.allowMetaPatches && objRef) {\n                    refCache[objRef] = true\n                  }\n                  yield* traverse(val, updatedPath, patch)\n                }\n              }\n\n              if (!isRootProperties && key === pluginObj.key) {\n                const isWithinPathDiscriminator = isSubPath(pathDiscriminator, path)\n                if (!pathDiscriminator || isWithinPathDiscriminator) {\n                  yield pluginObj.plugin(val, key, updatedPath, specmap, patch)\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  nextPlugin() {\n    // Array.prototype.find doesn't work in IE 11 :(\n    return find(this.wrappedPlugins, (plugin) => {\n      const mutations = this.getMutationsForPlugin(plugin)\n      return mutations.length > 0\n    })\n  }\n\n  nextPromisedPatch() {\n    if (this.promisedPatches.length > 0) {\n      return Promise.race(this.promisedPatches.map(patch => patch.value))\n    }\n  }\n\n  getPluginHistory(plugin) {\n    const name = this.getPluginName(plugin)\n    return this.pluginHistory[name] || []\n  }\n\n  getPluginRunCount(plugin) {\n    return this.getPluginHistory(plugin).length\n  }\n\n  getPluginHistoryTip(plugin) {\n    const history = this.getPluginHistory(plugin)\n    const val = history && history[history.length - 1]\n    return val || {}\n  }\n\n  getPluginMutationIndex(plugin) {\n    const mi = this.getPluginHistoryTip(plugin).mutationIndex\n    return typeof mi !== 'number' ? -1 : mi\n  }\n\n  getPluginName(plugin) {\n    return plugin.pluginName\n  }\n\n  updatePluginHistory(plugin, val) {\n    const name = this.getPluginName(plugin)\n    const history = this.pluginHistory[name] = this.pluginHistory[name] || []\n    history.push(val)\n  }\n\n  updatePatches(patches, plugin) {\n    lib.normalizeArray(patches).forEach((patch) => {\n      if (patch instanceof Error) {\n        this.errors.push(patch)\n        return\n      }\n\n      try {\n        if (!lib.isObject(patch)) {\n          this.debug('updatePatches', 'Got a non-object patch', patch)\n          return\n        }\n\n        if (this.showDebug) {\n          this.allPatches.push(patch)\n        }\n\n        if (lib.isPromise(patch.value)) {\n          this.promisedPatches.push(patch)\n          this.promisedPatchThen(patch)\n          return\n        }\n\n        if (lib.isContextPatch(patch)) {\n          this.setContext(patch.path, patch.value)\n          return\n        }\n\n        if (lib.isMutation(patch)) {\n          this.updateMutations(patch)\n          return\n        }\n      }\n      catch (e) {\n        console.error(e) // eslint-disable-line no-console\n        this.errors.push(e)\n      }\n    })\n  }\n\n  updateMutations(patch) {\n    if (typeof patch.value === 'object' && !Array.isArray(patch.value) && this.allowMetaPatches) {\n      patch.value = Object.assign({}, patch.value)\n    }\n\n    const result = lib.applyPatch(this.state, patch, {allowMetaPatches: this.allowMetaPatches})\n    if (result) {\n      this.mutations.push(patch)\n      this.state = result\n    }\n  }\n\n  removePromisedPatch(patch) {\n    const index = this.promisedPatches.indexOf(patch)\n    if (index < 0) {\n      this.debug('Tried to remove a promisedPatch that isn\\'t there!')\n      return\n    }\n    this.promisedPatches.splice(index, 1)\n  }\n\n  promisedPatchThen(patch) {\n    const value = patch.value = patch.value\n      .then((val) => {\n        const promisedPatch = Object.assign({}, patch, {value: val})\n        this.removePromisedPatch(patch)\n        this.updatePatches(promisedPatch)\n      })\n      .catch((e) => {\n        this.removePromisedPatch(patch)\n        this.updatePatches(e)\n      })\n    return value\n  }\n\n  getMutations(from, to) {\n    from = from || 0\n    if (typeof to !== 'number') {\n      to = this.mutations.length\n    }\n    return this.mutations.slice(from, to)\n  }\n\n  getCurrentMutations() {\n    return this.getMutationsForPlugin(this.getCurrentPlugin())\n  }\n\n  getMutationsForPlugin(plugin) {\n    const tip = this.getPluginMutationIndex(plugin)\n    return this.getMutations(tip + 1)\n  }\n\n  getCurrentPlugin() {\n    return this.currentPlugin\n  }\n\n  getPatchesOfType(patches, fn) {\n    return patches.filter(fn)\n  }\n\n  getLib() {\n    return this.libMethods\n  }\n\n  _get(path) {\n    return lib.getIn(this.state, path)\n  }\n\n  _getContext(path) {\n    return this.contextTree.get(path)\n  }\n\n  setContext(path, value) {\n    return this.contextTree.set(path, value)\n  }\n\n  _hasRun(count) {\n    const times = this.getPluginRunCount(this.getCurrentPlugin())\n    return times > (count || 0)\n  }\n\n  _clone(obj) {\n    // For debugging only\n    return JSON.parse(JSON.stringify(obj))\n  }\n\n  dispatch() {\n    const that = this\n    const plugin = this.nextPlugin()\n\n    if (!plugin) {\n      const nextPromise = this.nextPromisedPatch()\n      if (nextPromise) {\n        return nextPromise\n          .then(() => this.dispatch())\n          .catch(() => this.dispatch())\n      }\n\n      // We're done!\n      const result = {spec: this.state, errors: this.errors}\n      if (this.showDebug) {\n        result.patches = this.allPatches\n      }\n      return Promise.resolve(result)\n    }\n\n    // Makes sure plugin isn't running an endless loop\n    that.pluginCount = that.pluginCount || {}\n    that.pluginCount[plugin] = (that.pluginCount[plugin] || 0) + 1\n    if (that.pluginCount[plugin] > HARD_LIMIT) {\n      return Promise.resolve({\n        spec: that.state,\n        errors: that.errors.concat(new Error(`We've reached a hard limit of ${HARD_LIMIT} plugin runs`))\n      })\n    }\n\n    // A different plugin runs, wait for all promises to resolve, then retry\n    if (plugin !== this.currentPlugin && this.promisedPatches.length) {\n      const promises = this.promisedPatches.map(p => p.value)\n\n      // Waits for all to settle instead of Promise.all which stops on rejection\n      return Promise.all(promises.map((promise) => {\n        return promise.then(Function, Function)\n      })).then(() => this.dispatch())\n    }\n\n    // Ok, run the plugin\n    return executePlugin()\n\n    function executePlugin() {\n      that.currentPlugin = plugin\n      const mutations = that.getCurrentMutations()\n      const lastMutationIndex = that.mutations.length - 1\n\n      try {\n        if (plugin.isGenerator) {\n          for (const yieldedPatches of plugin(mutations, that.getLib())) {\n            updatePatches(yieldedPatches)\n          }\n        }\n        else {\n          const newPatches = plugin(mutations, that.getLib())\n          updatePatches(newPatches)\n        }\n      }\n      catch (e) {\n        console.error(e) // eslint-disable-line no-console\n        updatePatches([Object.assign(Object.create(e), {plugin})])\n      }\n      finally {\n        that.updatePluginHistory(plugin, {mutationIndex: lastMutationIndex})\n      }\n\n      return that.dispatch()\n    }\n\n    function updatePatches(patches) {\n      if (patches) {\n        patches = lib.fullyNormalizeArray(patches)\n        that.updatePatches(patches, plugin)\n      }\n    }\n  }\n}\n\nexport default function mapSpec(opts) {\n  return new SpecMap(opts).dispatch()\n}\n\nconst plugins = {refs, allOf, parameters, properties}\nexport {SpecMap, plugins}\n\n\n\n// WEBPACK FOOTER //\n// ./src/specmap/index.js","module.exports = require(\"babel-runtime/core-js/object/create\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/create\"\n// module id = 32\n// module chunks = 0","module.exports = require(\"lodash/find\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/find\"\n// module id = 33\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/toConsumableArray\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/toConsumableArray\"\n// module id = 34\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/defineProperty\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/defineProperty\"\n// module id = 35\n// module chunks = 0","module.exports = require(\"fast-json-patch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fast-json-patch\"\n// module id = 36\n// module chunks = 0","module.exports = require(\"deep-extend\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"deep-extend\"\n// module id = 37\n// module chunks = 0","module.exports = require(\"@kyleshockey/object-assign-deep\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@kyleshockey/object-assign-deep\"\n// module id = 38\n// module chunks = 0","import {fetch} from 'cross-fetch'\nimport jsYaml from '@kyleshockey/js-yaml'\nimport qs from 'querystring-browser'\nimport url from 'url'\nimport lib from '../lib'\nimport createError from '../lib/create-error'\nimport {isFreelyNamed} from '../helpers'\n\nconst ABSOLUTE_URL_REGEXP = new RegExp('^([a-z]+://|//)', 'i')\n\nconst JSONRefError = createError('JSONRefError', function (message, extra, oriError) {\n  this.originalError = oriError\n  Object.assign(this, extra || {})\n})\n\nconst docCache = {}\nconst specmapRefs = new WeakMap()\n\n\n// =========================\n// Core\n// =========================\n\n/**\n * This plugin resolves the JSON pointers.\n * A major part of this plugin deals with cyclic references via 2 mechanisms.\n * 1. If a pointer was already resolved before in this path, halt.\n * 2. If the patch value points to one of the ancestors in this path, halt.\n *\n * Note that either one of these mechanism is sufficient, both must be in place.\n * For examples:\n *\n * Given the following spec, #1 alone is insufficient because after the 2nd\n * application, there will be a cyclic object reference.\n *   a.b.c: $ref-d\n *   d.e.f: $ref-a (per #1, safe to return patch as no immediate cycle)\n *\n * Given the following spec, #2 alone is insufficient because although there will\n * never be any cyclic object reference, the plugin will keep producing patches.\n *   a: $ref-b\n *   b: $ref-a\n */\nconst plugin = {\n  key: '$ref',\n  plugin: (ref, key, fullPath, specmap) => {\n    const parent = fullPath.slice(0, -1)\n    if (isFreelyNamed(parent)) {\n      return\n    }\n\n    const baseDoc = specmap.getContext(fullPath).baseDoc\n    if (typeof ref !== 'string') {\n      return new JSONRefError('$ref: must be a string (JSON-Ref)', {\n        $ref: ref,\n        baseDoc,\n        fullPath,\n      })\n    }\n\n    const splitString = split(ref)\n    const refPath = splitString[0]\n    const pointer = splitString[1] || ''\n\n    let basePath\n    try {\n      basePath = (baseDoc || refPath) ? absoluteify(refPath, baseDoc) : null\n    }\n    catch (e) {\n      return wrapError(e, {\n        pointer,\n        $ref: ref,\n        basePath,\n        fullPath,\n      })\n    }\n\n    let promOrVal\n    let tokens\n\n    if (pointerAlreadyInPath(pointer, basePath, parent, specmap)) {\n      return // TODO: add some meta data, to indicate its cyclic!\n    }\n\n    if (basePath == null) {\n      tokens = jsonPointerToArray(pointer)\n      promOrVal = specmap.get(tokens)\n\n      if (typeof promOrVal === 'undefined') {\n        promOrVal = new JSONRefError(`Could not resolve reference: ${ref}`, {\n          pointer,\n          $ref: ref,\n          baseDoc,\n          fullPath,\n        })\n      }\n    }\n    else {\n      promOrVal = extractFromDoc(basePath, pointer)\n      if (promOrVal.__value != null) {\n        promOrVal = promOrVal.__value\n      }\n      else {\n        promOrVal = promOrVal.catch((e) => {\n          throw wrapError(e, {\n            pointer,\n            $ref: ref,\n            baseDoc,\n            fullPath,\n          })\n        })\n      }\n    }\n\n    if (promOrVal instanceof Error) {\n      return [lib.remove(fullPath), promOrVal]\n    }\n\n    const patch = lib.replace(parent, promOrVal, {$$ref: ref})\n    if (basePath && basePath !== baseDoc) {\n      return [patch, lib.context(parent, {baseDoc: basePath})]\n    }\n\n    try {\n      if (!patchValueAlreadyInPath(specmap.state, patch)) {\n        return patch\n      }\n    }\n    catch (e) {\n      // if we're catching here, path traversal failed, so we should\n      // ditch without sending any patches back up.\n      //\n      // this is a narrow fix for the larger problem of patches being queued\n      // and then having the state they were generated against be modified\n      // before they are applied.\n      //\n      // TODO: re-engineer specmap patch/state management to avoid this\n      return null\n    }\n  }\n}\n\n\nconst mod = Object.assign(plugin, {\n  docCache,\n  absoluteify,\n  clearCache,\n  JSONRefError,\n  wrapError,\n  getDoc,\n  split,\n  extractFromDoc,\n  fetchJSON,\n  extract,\n  jsonPointerToArray,\n  unescapeJsonPointerToken\n})\n\nexport default mod\n\n\n// =========================\n// Utilities\n// =========================\n\n/**\n * Resolves a path and its base to an abolute URL.\n * @api public\n */\nfunction absoluteify(path, basePath) {\n  if (!ABSOLUTE_URL_REGEXP.test(path)) {\n    if (!basePath) {\n      throw new JSONRefError(`Tried to resolve a relative URL, without having a basePath. path: '${path}' basePath: '${basePath}'`)\n    }\n    return url.resolve(basePath, path)\n  }\n  return path\n}\n\n/**\n * Wraps an error as JSONRefError.\n * @param  {Error} e      the error.\n * @param  {Object} extra (optional) optional data.\n * @return {Error}        an instance of JSONRefError.\n * @api public\n */\nfunction wrapError(e, extra) {\n  return new JSONRefError(`Could not resolve reference because of: ${e.message}`, extra, e)\n}\n\n/**\n * Splits a pointer by the hash delimiter.\n * @api public\n */\nfunction split(ref) {\n  return (ref + '').split('#') // eslint-disable-line prefer-template\n}\n\n/**\n * Extracts a pointer from its document.\n * @param  {String} docPath the absolute document URL.\n * @param  {String} pointer the pointer whose value is to be extracted.\n * @return {Promise}        a promise of the pointer value.\n * @api public\n */\nfunction extractFromDoc(docPath, pointer) {\n  const doc = docCache[docPath]\n  if (doc && !lib.isPromise(doc)) {\n    // If doc is already available, return __value together with the promise.\n    // __value is for special handling in cycle check:\n    // pointerAlreadyInPath() won't work if patch.value is a promise,\n    // thus when that promise is finally resolved, cycle might happen (because\n    // `spec` and `docCache[basePath]` refer to the exact same object).\n    // See test \"should resolve a cyclic spec when baseDoc is specified\".\n    try {\n      const v = extract(pointer, doc)\n      return Object.assign(Promise.resolve(v), {__value: v})\n    }\n    catch (e) {\n      return Promise.reject(e)\n    }\n  }\n\n  return getDoc(docPath).then(_doc => extract(pointer, _doc))\n}\n\n/**\n * Clears all document caches.\n * @param  {String} item (optional) the name of the cache item to be cleared.\n * @api public\n */\nfunction clearCache(item) {\n  if (typeof item !== 'undefined') {\n    delete docCache[item]\n  }\n  else {\n    Object.keys(docCache).forEach((key) => {\n      delete docCache[key]\n    })\n  }\n}\n\n/**\n * Fetches and caches a document.\n * @param  {String} docPath the absolute URL of the document.\n * @return {Promise}        a promise of the document content.\n * @api public\n */\nfunction getDoc(docPath) {\n  const val = docCache[docPath]\n  if (val) {\n    return lib.isPromise(val) ? val : Promise.resolve(val)\n  }\n\n  // NOTE: we need to use `mod.fetchJSON` in order to be able to overwrite it.\n  // Any tips on how to make this cleaner, please ping!\n  docCache[docPath] = mod.fetchJSON(docPath).then((doc) => {\n    docCache[docPath] = doc\n    return doc\n  })\n  return docCache[docPath]\n}\n\n/**\n * Fetches a document.\n * @param  {String} docPath the absolute URL of the document.\n * @return {Promise}        a promise of the document content.\n * @api public\n */\nfunction fetchJSON(docPath) {\n  return fetch(docPath, {headers: {Accept: 'application/json, application/yaml'}, loadSpec: true})\n    .then(res => res.text())\n    .then(text => jsYaml.safeLoad(text))\n}\n\n/**\n * Extracts a pointer from an object.\n * @param  {String[]} pointer the JSON pointer.\n * @param  {Object} obj       an object whose value is to be extracted.\n * @return {Object}           the value to be extracted.\n * @api public\n */\nfunction extract(pointer, obj) {\n  const tokens = jsonPointerToArray(pointer)\n  if (tokens.length < 1) {\n    return obj\n  }\n\n  const val = lib.getIn(obj, tokens)\n  if (typeof val === 'undefined') {\n    throw new JSONRefError(`Could not resolve pointer: ${pointer} does not exist in document`, {pointer})\n  }\n  return val\n}\n\n/**\n * Converts a JSON pointer to array.\n * @api public\n */\nfunction jsonPointerToArray(pointer) {\n  if (typeof pointer !== 'string') {\n    throw new TypeError(`Expected a string, got a ${typeof pointer}`)\n  }\n\n  if (pointer[0] === '/') {\n    pointer = pointer.substr(1)\n  }\n\n  if (pointer === '') {\n    return []\n  }\n\n  return pointer.split('/').map(unescapeJsonPointerToken)\n}\n\n/**\n * Unescapes a JSON pointer.\n * @api public\n */\nfunction unescapeJsonPointerToken(token) {\n  if (typeof token !== 'string') {\n    return token\n  }\n  return qs.unescape(token.replace(/~1/g, '/').replace(/~0/g, '~'))\n}\n\n/**\n * Escapes a JSON pointer.\n * @api public\n */\nfunction escapeJsonPointerToken(token) {\n  return qs.escape(token.replace(/~/g, '~0').replace(/\\//g, '~1'))\n}\n\nfunction arrayToJsonPointer(arr) {\n  if (arr.length === 0) {\n    return ''\n  }\n\n  return `/${arr.map(escapeJsonPointerToken).join('/')}`\n}\n\nconst pointerBoundaryChar = c => !c || c === '/' || c === '#'\n\nfunction pointerIsAParent(pointer, parentPointer) {\n  if (pointerBoundaryChar(parentPointer)) {\n    // This is the root of the document, so its naturally a parent\n    return true\n  }\n  const nextChar = pointer.charAt(parentPointer.length)\n  const lastParentChar = parentPointer.slice(-1)\n\n  return pointer.indexOf(parentPointer) === 0\n    && (!nextChar || nextChar === '/' || nextChar === '#')\n    && lastParentChar !== '#'\n}\n\n\n// =========================\n// Private\n// =========================\n\n/**\n * Checks if this pointer points back to one or more pointers along the path.\n */\nfunction pointerAlreadyInPath(pointer, basePath, parent, specmap) {\n  let refs = specmapRefs.get(specmap)\n  if (!refs) {\n    // Stores all resolved references of a specmap instance.\n    // Schema: path -> pointer (path's $ref value).\n    refs = {}\n    specmapRefs.set(specmap, refs)\n  }\n\n  const parentPointer = arrayToJsonPointer(parent)\n  const fullyQualifiedPointer = `${basePath || '<specmap-base>'}#${pointer}`\n\n  // Case 1: direct cycle, e.g. a.b.c.$ref: '/a.b'\n  // Detect by checking that the parent path doesn't start with pointer.\n  // This only applies if the pointer is internal, i.e. basePath === rootPath (could be null)\n  const rootDoc = specmap.contextTree.get([]).baseDoc\n  if (basePath == rootDoc && pointerIsAParent(parentPointer, pointer)) { // eslint-disable-line\n    return true\n  }\n\n\n  // Case 2: indirect cycle\n  //  ex1: a.$ref: '/b'  &  b.c.$ref: '/b/c'\n  //  ex2: a.$ref: '/b/c'  &  b.c.$ref: '/b'\n  // Detect by retrieving all the $refs along the path of parent\n  // and checking if any starts with pointer or vice versa.\n  let currPath = ''\n  const hasIndirectCycle = parent.some((token) => {\n    currPath = `${currPath}/${escapeJsonPointerToken(token)}`\n    return refs[currPath] && refs[currPath].some((ref) => {\n      return (\n           pointerIsAParent(ref, fullyQualifiedPointer)\n        || pointerIsAParent(fullyQualifiedPointer, ref)\n      )\n    })\n  })\n  if (hasIndirectCycle) {\n    return true\n  }\n\n  // No cycle, this ref will be resolved, so stores it now for future detection.\n  // No need to store if has cycle, as parent path is a dead-end and won't be checked again.\n  refs[parentPointer] = (refs[parentPointer] || []).concat(fullyQualifiedPointer)\n}\n\n/**\n * Checks if the value of this patch ends up pointing to an ancestor along the path.\n */\nfunction patchValueAlreadyInPath(root, patch) {\n  const ancestors = [root]\n  patch.path.reduce((parent, p) => {\n    ancestors.push(parent[p])\n    return parent[p]\n  }, root)\n  return pointToAncestor(patch.value)\n\n  function pointToAncestor(obj) {\n    return lib.isObject(obj) && (ancestors.indexOf(obj) >= 0 || Object.keys(obj).some((k) => {\n      return pointToAncestor(obj[k])\n    }))\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/specmap/lib/refs.js","module.exports = require(\"babel-runtime/core-js/weak-map\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/weak-map\"\n// module id = 40\n// module chunks = 0","module.exports = require(\"cross-fetch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cross-fetch\"\n// module id = 41\n// module chunks = 0","module.exports = require(\"querystring-browser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"querystring-browser\"\n// module id = 42\n// module chunks = 0","import {isFreelyNamed} from '../helpers'\n\nexport default {\n  key: 'allOf',\n  plugin: (val, key, fullPath, specmap, patch) => {\n    // Ignore replace patches created by $ref because the changes will\n    // occur in the original \"add\" patch and we don't want this plugin\n    // to redundantly processes those \"relace\" patches.\n    if (patch.meta && patch.meta.$$ref) {\n      return\n    }\n\n    const parent = fullPath.slice(0, -1)\n    if (isFreelyNamed(parent)) {\n      return\n    }\n\n    if (!Array.isArray(val)) {\n      const err = new TypeError('allOf must be an array')\n      err.fullPath = fullPath // This is an array\n      return err\n    }\n\n\n    let alreadyAddError = false\n\n    // Find the original definition from the `patch.value` object\n    // Remove the `allOf` property so it doesn't get added to the result of the `allOf` plugin\n    let originalDefinitionObj = patch.value\n    parent.forEach((part) => {\n      if (!originalDefinitionObj) return // bail out if we've lost sight of our target\n      originalDefinitionObj = originalDefinitionObj[part]\n    })\n    originalDefinitionObj = Object.assign({}, originalDefinitionObj)\n    delete originalDefinitionObj.allOf\n\n    const allOfPatches = [specmap.replace(parent, {})].concat(val.map((toMerge, index) => {\n      if (!specmap.isObject(toMerge)) {\n        if (alreadyAddError) {\n          return null\n        }\n        alreadyAddError = true\n\n        const err = new TypeError('Elements in allOf must be objects')\n        err.fullPath = fullPath // This is an array\n        return err\n      }\n\n      return specmap.mergeDeep(parent, toMerge)\n    }))\n\n    // Merge back the values from the original definition\n    allOfPatches.push(specmap.mergeDeep(parent, originalDefinitionObj))\n\n    // If there was not an original $$ref value, make sure to remove\n    // any $$ref value that may exist from the result of `allOf` merges\n    if (!originalDefinitionObj.$$ref) {\n      allOfPatches.push(specmap.remove([].concat(parent, '$$ref')))\n    }\n\n    return allOfPatches\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/specmap/lib/all-of.js","import lib from '../lib'\n\nexport default {\n  key: 'parameters',\n  plugin: (parameters, key, fullPath, specmap, patch) => {\n    if (Array.isArray(parameters) && parameters.length) {\n      const val = Object.assign([], parameters)\n      const opPath = fullPath.slice(0, -1)\n      const op = Object.assign({}, lib.getIn(specmap.spec, opPath))\n\n      parameters.forEach((param, i) => {\n        try {\n          val[i].default = specmap.parameterMacro(op, param)\n        }\n        catch (e) {\n          const err = new Error(e)\n          err.fullPath = fullPath\n          return err\n        }\n      })\n\n      return lib.replace(fullPath, val)\n    }\n\n    return lib.replace(fullPath, parameters)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/specmap/lib/parameters.js","import lib from '../lib'\n\nexport default {\n  key: 'properties',\n  plugin: (properties, key, fullPath, specmap) => {\n    const val = Object.assign({}, properties)\n\n    for (const k in properties) {\n      try {\n        val[k].default = specmap.modelPropertyMacro(val[k])\n      }\n      catch (e) {\n        const err = new Error(e)\n        err.fullPath = fullPath // This is an array\n        return err\n      }\n    }\n\n    const patch = lib.replace(fullPath, val)\n\n    return patch\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/specmap/lib/properties.js","export default class ContextTree {\n  constructor(value) {\n    this.root = createNode(value || {})\n  }\n\n  set(path, value) {\n    const parent = this.getParent(path, true)\n    if (!parent) {\n      updateNode(this.root, value, null)\n      return\n    }\n\n    const key = path[path.length - 1]\n    const children = parent.children\n    if (children[key]) {\n      updateNode(children[key], value, parent)\n      return\n    }\n\n    children[key] = createNode(value, parent)\n  }\n\n  // Get the \"best\" node (node or nearest parent) and return its value.\n  get(path) {\n    path = path || []\n\n    if (path.length < 1) {\n      return this.root.value\n    }\n\n    let branch = this.root\n    let child\n    let token\n    for (let i = 0; i < path.length; i++) {\n      token = path[i]\n      child = branch.children\n      if (!child[token]) {\n        break\n      }\n      branch = child[token]\n    }\n\n    return branch && branch.protoValue\n  }\n\n  getParent(path, ensureExists) {\n    if (!path || path.length < 1) {\n      return null\n    }\n\n    if (path.length < 2) {\n      return this.root\n    }\n\n    return path.slice(0, -1).reduce((branch, token) => {\n      if (!branch) {\n        return branch\n      }\n\n      const children = branch.children\n\n      if (!children[token] && ensureExists) {\n        children[token] = createNode(null, branch)\n      }\n\n      return children[token]\n    }, this.root)\n  }\n}\n\n// =========================\n// Utilities\n// =========================\n\nfunction createNode(value, parent) {\n  return updateNode({children: {}}, value, parent)\n}\n\nfunction updateNode(node, value, parent) {\n  node.value = value || {}\n  node.protoValue = parent\n    ? {...parent.protoValue, ...node.value}\n    : node.value\n\n  Object.keys(node.children).forEach((prop) => {\n    const child = node.children[prop]\n    node.children[prop] = updateNode(child, child.value, node)\n  })\n\n  return node\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/specmap/lib/context-tree.js","module.exports = require(\"lodash/isObject\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/isObject\"\n// module id = 47\n// module chunks = 0","// The subtree resolver is a higher-level interface that allows you to\n// get the same result that you would from `Swagger.resolve`, but focuses on\n// a subtree of your object.\n//\n// It makes several assumptions that allow you to think less about what resolve,\n// specmap, and normalizeSwagger are doing: if this is not suitable for you,\n// you can emulate `resolveSubtree`'s behavior by talking to the traditional\n// resolver directly.\n//\n// By providing a top-level `obj` and a `path` to resolve within, the subtree\n// at `path` will be resolved and normalized in the context of your top-level\n// `obj`. You'll get the resolved subtree you're interest in as a return value\n// (or, you can use `returnEntireTree` to get everything back).\n//\n// This is useful for cases where resolving your entire object is unnecessary\n// and/or non-performant; we use this interface for lazily resolving operations\n// and models in Swagger-UI, which allows us to handle larger definitions.\n//\n// It's likely that Swagger-Client will rely entirely on lazy resolving in\n// future versions.\n//\n// TODO: move the remarks above into project documentation\n\n\nimport get from 'lodash/get'\nimport resolve from '../resolver'\nimport {normalizeSwagger} from '../helpers'\n\nexport default async function resolveSubtree(obj, path, opts = {}) {\n  const {\n    returnEntireTree,\n    baseDoc,\n    requestInterceptor,\n    responseInterceptor,\n    parameterMacro,\n    modelPropertyMacro\n  } = opts\n\n  const resolveOptions = {\n    pathDiscriminator: path,\n    baseDoc,\n    requestInterceptor,\n    responseInterceptor,\n    parameterMacro,\n    modelPropertyMacro\n  }\n\n  const {spec: normalized} = normalizeSwagger({\n    spec: obj\n  })\n\n  const result = await resolve({\n    ...resolveOptions,\n    spec: normalized,\n    allowMetaPatches: true,\n    skipNormalization: true\n  })\n\n  if (!returnEntireTree && Array.isArray(path) && path.length) {\n    result.spec = get(result.spec, path) || null\n  }\n\n  return result\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/subtree-resolver/index.js","import pick from 'lodash/pick'\nimport {eachOperation, opId} from './helpers'\n\nconst nullFn = () => null\n\nconst normalizeArray = (arg) => {\n  return Array.isArray(arg) ? arg : [arg]\n}\n\n// To allow stubbing of functions\nexport const self = {\n  mapTagOperations,\n  makeExecute\n}\n\n// Make an execute, bound to arguments defined in mapTagOperation's callback (cb)\nexport function makeExecute(swaggerJs = {}) {\n  return ({pathName, method, operationId}) => (parameters, opts = {}) => {\n    return swaggerJs.execute({\n      spec: swaggerJs.spec,\n      ...pick(swaggerJs, 'requestInterceptor', 'responseInterceptor', 'userFetch'),\n      pathName,\n      method,\n      parameters,\n      operationId,\n      ...opts\n    })\n  }\n}\n\n// Creates an interface with tags+operations = execute\n// The shape\n// { apis: { [tag]: { operations: [operation]: { execute }}}}\n// NOTE: this is mostly for compatibility\nexport function makeApisTagOperationsOperationExecute(swaggerJs = {}) {\n  // { apis: tag: operations: execute }\n  const cb = self.makeExecute(swaggerJs)\n  const tagOperations = self.mapTagOperations({\n    v2OperationIdCompatibilityMode: swaggerJs.v2OperationIdCompatibilityMode,\n    spec: swaggerJs.spec,\n    cb,\n  })\n\n  const apis = {}\n  for (const tag in tagOperations) {\n    apis[tag] = {\n      operations: {}\n    }\n    for (const op in tagOperations[tag]) {\n      apis[tag].operations[op] = {execute: tagOperations[tag][op]}\n    }\n  }\n\n  return {apis}\n}\n\n// .apis[tag][operationId]:ExecuteFunction interface\nexport function makeApisTagOperation(swaggerJs = {}) {\n  const cb = self.makeExecute(swaggerJs)\n  return {\n    apis: self.mapTagOperations({\n      v2OperationIdCompatibilityMode: swaggerJs.v2OperationIdCompatibilityMode,\n      spec: swaggerJs.spec,\n      cb\n    })\n  }\n}\n\n/**\n * Iterates over a spec, creating a hash of {[tag]: { [operationId], ... }, ...}\n * with the value of calling `cb`.\n *\n * `spec` is a OAI v2.0 compliant specification object\n * `cb` is called with ({ spec, operation, path, method })\n * `defaultTag` will house all non-tagged operations\n *\n */\nexport function mapTagOperations({spec, cb = nullFn, defaultTag = 'default', v2OperationIdCompatibilityMode}) {\n  const operationIdCounter = {}\n  const tagOperations = {} // Will house all tags + operations\n  eachOperation(spec, ({pathName, method, operation}) => {\n    const tags = operation.tags ? normalizeArray(operation.tags) : [defaultTag]\n\n    tags.forEach((tag) => {\n      if (typeof tag !== 'string') {\n        return\n      }\n      const tagObj = tagOperations[tag] = tagOperations[tag] || {}\n      const id = opId(operation, pathName, method, {v2OperationIdCompatibilityMode})\n      const cbResult = cb({spec, pathName, method, operation, operationId: id})\n\n      if (operationIdCounter[id]) {\n        operationIdCounter[id]++\n        tagObj[`${id}${operationIdCounter[id]}`] = cbResult\n      }\n      else if (typeof tagObj[id] !== 'undefined') {\n        // Bump counter ( for this operationId )\n        const originalCounterValue = (operationIdCounter[id] || 1)\n        operationIdCounter[id] = originalCounterValue + 1\n        // Append _x to the operationId\n        tagObj[`${id}${operationIdCounter[id]}`] = cbResult\n\n        // Rename the first operationId\n        const temp = tagObj[id]\n        delete tagObj[id]\n        tagObj[`${id}${originalCounterValue}`] = temp\n      }\n      else {\n        // Assign callback result ( usually a bound function )\n        tagObj[id] = cbResult\n      }\n    })\n  })\n\n  return tagOperations\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interfaces.js","module.exports = require(\"lodash/pick\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/pick\"\n// module id = 50\n// module chunks = 0","import assign from 'lodash/assign'\nimport getIn from 'lodash/get'\nimport isPlainObject from 'lodash/isPlainObject'\nimport isArray from 'lodash/isArray'\nimport btoa from 'btoa'\nimport url from 'url'\nimport cookie from 'cookie'\nimport stockHttp, {mergeInQueryOrForm} from '../http'\nimport createError from '../specmap/lib/create-error'\n\nimport SWAGGER2_PARAMETER_BUILDERS from './swagger2/parameter-builders'\nimport OAS3_PARAMETER_BUILDERS from './oas3/parameter-builders'\nimport oas3BuildRequest from './oas3/build-request'\nimport swagger2BuildRequest from './swagger2/build-request'\nimport {\n  getOperationRaw,\n  idFromPathMethod,\n  legacyIdFromPathMethod,\n  isOAS3\n} from '../helpers'\n\nconst arrayOrEmpty = (ar) => {\n  return Array.isArray(ar) ? ar : []\n}\n\nconst OperationNotFoundError = createError('OperationNotFoundError', function (message, extra, oriError) {\n  this.originalError = oriError\n  Object.assign(this, extra || {})\n})\n\nconst findParametersWithName = (name, parameters) => {\n  return parameters.filter(p => p.name === name)\n}\n\n// removes parameters that have duplicate 'in' and 'name' properties\nconst deduplicateParameters = (parameters) => {\n  const paramsMap = {}\n  parameters.forEach((p) => {\n    if (!paramsMap[p.in]) {\n      paramsMap[p.in] = {}\n    }\n    paramsMap[p.in][p.name] = p\n  })\n\n  const dedupedParameters = []\n  Object.keys(paramsMap).forEach((i) => {\n    Object.keys(paramsMap[i]).forEach((p) => {\n      dedupedParameters.push(paramsMap[i][p])\n    })\n  })\n  return dedupedParameters\n}\n\n// For stubbing in tests\nexport const self = {\n  buildRequest\n}\n\n// Execute request, with the given operationId and parameters\n// pathName/method or operationId is optional\nexport function execute({\n  http: userHttp,\n  fetch, // This is legacy\n  spec,\n  operationId,\n  pathName,\n  method,\n  parameters,\n  securities,\n  ...extras\n}) {\n  // Provide default fetch implementation\n  const http = userHttp || fetch || stockHttp // Default to _our_ http\n\n  if (pathName && method && !operationId) {\n    operationId = legacyIdFromPathMethod(pathName, method)\n  }\n\n  const request = self.buildRequest({spec, operationId, parameters, securities, http, ...extras})\n\n  if (request.body && (isPlainObject(request.body) || isArray(request.body))) {\n    request.body = JSON.stringify(request.body)\n  }\n\n  // Build request and execute it\n  return http(request)\n}\n\n// Build a request, which can be handled by the `http.js` implementation.\nexport function buildRequest(options) {\n  const {\n    spec,\n    operationId,\n    securities,\n    requestContentType,\n    responseContentType,\n    scheme,\n    requestInterceptor,\n    responseInterceptor,\n    contextUrl,\n    userFetch,\n    requestBody,\n    server,\n    serverVariables,\n    http\n  } = options\n\n  let {\n    parameters,\n    parameterBuilders\n  } = options\n\n  const specIsOAS3 = isOAS3(spec)\n  if (!parameterBuilders) {\n    // user did not provide custom parameter builders\n    if (specIsOAS3) {\n      parameterBuilders = OAS3_PARAMETER_BUILDERS\n    }\n    else {\n      parameterBuilders = SWAGGER2_PARAMETER_BUILDERS\n    }\n  }\n\n  // Set credentials with 'http.withCredentials' value\n  const credentials = (http && http.withCredentials) ? 'include' : 'same-origin'\n\n  // Base Template\n  let req = {\n    url: '',\n    credentials,\n    headers: {},\n    cookies: {}\n  }\n\n  if (requestInterceptor) {\n    req.requestInterceptor = requestInterceptor\n  }\n  if (responseInterceptor) {\n    req.responseInterceptor = responseInterceptor\n  }\n  if (userFetch) {\n    req.userFetch = userFetch\n  }\n\n  const operationRaw = getOperationRaw(spec, operationId)\n  if (!operationRaw) {\n    throw new OperationNotFoundError(`Operation ${operationId} not found`)\n  }\n\n  const {operation = {}, method, pathName} = operationRaw\n\n  req.url += baseUrl({spec, scheme, contextUrl, server, serverVariables, pathName, method})\n\n  // Mostly for testing\n  if (!operationId) {\n    // Not removing req.cookies causes testing issues and would\n    // change our interface, so we're always sure to remove it.\n    // See the same statement lower down in this function for\n    // more context.\n    delete req.cookies\n    return req\n  }\n\n  req.url += pathName // Have not yet replaced the path parameters\n  req.method = (`${method}`).toUpperCase()\n\n  parameters = parameters || {}\n  const path = spec.paths[pathName] || {}\n\n  if (responseContentType) {\n    req.headers.accept = responseContentType\n  }\n\n  const combinedParameters = deduplicateParameters([]\n    .concat(arrayOrEmpty(operation.parameters)) // operation parameters\n    .concat(arrayOrEmpty(path.parameters)) // path parameters\n  )\n\n  // REVIEW: OAS3: have any key names or parameter shapes changed?\n  // Any new features that need to be plugged in here?\n\n\n  // Add values to request\n  combinedParameters.forEach((parameter) => {\n    const builder = parameterBuilders[parameter.in]\n    let value\n\n    if (parameter.in === 'body' && parameter.schema && parameter.schema.properties) {\n      value = parameters\n    }\n\n    value = parameter && parameter.name && parameters[parameter.name]\n\n    if (typeof value === 'undefined') {\n        // check for `name-in` formatted key\n      value = parameter && parameter.name && parameters[`${parameter.in}.${parameter.name}`]\n    }\n    else if (findParametersWithName(parameter.name, combinedParameters).length > 1) {\n      // value came from `parameters[parameter.name]`\n      // check to see if this is an ambiguous parameter\n      // eslint-disable-next-line no-console\n      console.warn(`Parameter '${parameter.name}' is ambiguous because the defined spec has more than one parameter with the name: '${parameter.name}' and the passed-in parameter values did not define an 'in' value.`)\n    }\n\n    if (value === null) {\n      return\n    }\n\n    if (typeof parameter.default !== 'undefined' && typeof value === 'undefined') {\n      value = parameter.default\n    }\n\n    if (typeof value === 'undefined' && parameter.required && !parameter.allowEmptyValue) {\n      throw new Error(`Required parameter ${parameter.name} is not provided`)\n    }\n\n    if (specIsOAS3 && parameter.schema && parameter.schema.type === 'object' && typeof value === 'string') {\n      try {\n        value = JSON.parse(value)\n      }\n      catch (e) {\n        throw new Error('Could not parse object parameter value string as JSON')\n      }\n    }\n\n    if (builder) {\n      builder({req, parameter, value, operation, spec})\n    }\n  })\n\n  // Do version-specific tasks, then return those results.\n  const versionSpecificOptions = {...options, operation}\n\n  if (specIsOAS3) {\n    req = oas3BuildRequest(versionSpecificOptions, req)\n  }\n  else {\n    // If not OAS3, then treat as Swagger2.\n    req = swagger2BuildRequest(versionSpecificOptions, req)\n  }\n\n\n  // If the cookie convenience object exists in our request,\n  // serialize its content and then delete the cookie object.\n  if (req.cookies && Object.keys(req.cookies).length) {\n    const cookieString = Object.keys(req.cookies).reduce((prev, cookieName) => {\n      const cookieValue = req.cookies[cookieName]\n      const prefix = prev ? '&' : ''\n      const stringified = cookie.serialize(cookieName, cookieValue)\n      return prev + prefix + stringified\n    }, '')\n    req.headers.Cookie = cookieString\n  }\n\n  if (req.cookies) {\n    // even if no cookies were defined, we need to remove\n    // the cookies key from our request, or many many legacy\n    // tests will break.\n    delete req.cookies\n  }\n\n  // Will add the query object into the URL, if it exists\n  // ... will also create a FormData instance, if multipart/form-data (eg: a file)\n  mergeInQueryOrForm(req)\n\n  return req\n}\n\nconst stripNonAlpha = str => (str ? str.replace(/\\W/g, '') : null)\n\nexport function baseUrl(obj) {\n  const specIsOAS3 = isOAS3(obj.spec)\n\n  return specIsOAS3 ? oas3BaseUrl(obj) : swagger2BaseUrl(obj)\n}\n\nfunction oas3BaseUrl({spec, pathName, method, server, contextUrl, serverVariables = {}}) {\n  const servers =\n    getIn(spec, ['paths', pathName, (method || '').toLowerCase(), 'servers']) ||\n    getIn(spec, ['paths', pathName, 'servers']) ||\n    getIn(spec, ['servers'])\n\n  let selectedServerUrl = ''\n  let selectedServerObj = null\n\n  if (server && servers && servers.length) {\n    const serverUrls = servers.map(srv => srv.url)\n\n    if (serverUrls.indexOf(server) > -1) {\n      selectedServerUrl = server\n      selectedServerObj = servers[serverUrls.indexOf(server)]\n    }\n  }\n\n  if (!selectedServerUrl && servers && servers.length) {\n    // default to the first server if we don't have one by now\n    selectedServerUrl = servers[0].url\n    selectedServerObj = servers[0]\n  }\n\n  if (selectedServerUrl.indexOf('{') > -1) {\n    // do variable substitution\n    const varNames = getVariableTemplateNames(selectedServerUrl)\n    varNames.forEach((vari) => {\n      if (selectedServerObj.variables && selectedServerObj.variables[vari]) {\n        // variable is defined in server\n        const variableDefinition = selectedServerObj.variables[vari]\n        const variableValue = serverVariables[vari] || variableDefinition.default\n\n        const re = new RegExp(`{${vari}}`, 'g')\n        selectedServerUrl = selectedServerUrl.replace(re, variableValue)\n      }\n    })\n  }\n\n  return buildOas3UrlWithContext(selectedServerUrl, contextUrl)\n}\n\nfunction buildOas3UrlWithContext(ourUrl = '', contextUrl = '') {\n  const parsedUrl = url.parse(ourUrl)\n  const parsedContextUrl = url.parse(contextUrl)\n\n  const computedScheme = stripNonAlpha(parsedUrl.protocol) || stripNonAlpha(parsedContextUrl.protocol) || ''\n  const computedHost = parsedUrl.host || parsedContextUrl.host\n  const computedPath = parsedUrl.pathname || ''\n  let res\n\n  if (computedScheme && computedHost) {\n    res = `${computedScheme}://${computedHost + computedPath}`\n\n    // If last character is '/', trim it off\n  }\n  else {\n    res = computedPath\n  }\n\n  return res[res.length - 1] === '/' ? res.slice(0, -1) : res\n}\n\nfunction getVariableTemplateNames(str) {\n  const results = []\n  const re = /{([^}]+)}/g\n  let text\n\n  // eslint-disable-next-line no-cond-assign\n  while (text = re.exec(str)) {\n    results.push(text[1])\n  }\n  return results\n}\n\n// Compose the baseUrl ( scheme + host + basePath )\nfunction swagger2BaseUrl({spec, scheme, contextUrl = ''}) {\n  const parsedContextUrl = url.parse(contextUrl)\n  const firstSchemeInSpec = Array.isArray(spec.schemes) ? spec.schemes[0] : null\n\n  const computedScheme = scheme || firstSchemeInSpec || stripNonAlpha(parsedContextUrl.protocol) || 'http'\n  const computedHost = spec.host || parsedContextUrl.host || ''\n  const computedPath = spec.basePath || ''\n  let res\n\n  if (computedScheme && computedHost) {\n    // we have what we need for an absolute URL\n    res = `${computedScheme}://${computedHost + computedPath}`\n  }\n  else {\n    // if not, a relative URL will have to do\n    res = computedPath\n  }\n\n  // If last character is '/', trim it off\n  return res[res.length - 1] === '/' ? res.slice(0, -1) : res\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/execute/index.js","module.exports = require(\"babel-runtime/helpers/objectWithoutProperties\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/objectWithoutProperties\"\n// module id = 52\n// module chunks = 0","module.exports = require(\"lodash/isPlainObject\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/isPlainObject\"\n// module id = 53\n// module chunks = 0","module.exports = require(\"lodash/isArray\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/isArray\"\n// module id = 54\n// module chunks = 0","module.exports = require(\"cookie\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie\"\n// module id = 55\n// module chunks = 0","// These functions will update the request.\n// They'll be given {req, value, paramter, spec, operation}.\n\n\nexport default {\n  body: bodyBuilder,\n  header: headerBuilder,\n  query: queryBuilder,\n  path: pathBuilder,\n  formData: formDataBuilder\n}\n\n\n// Add the body to the request\nfunction bodyBuilder({req, value}) {\n  req.body = value\n}\n\n// Add a form data object.\nfunction formDataBuilder({req, value, parameter}) {\n  if (value || parameter.allowEmptyValue) {\n    req.form = req.form || {}\n    req.form[parameter.name] = {\n      value,\n      allowEmptyValue: parameter.allowEmptyValue,\n      collectionFormat: parameter.collectionFormat,\n    }\n  }\n}\n\n// Add a header to the request\nfunction headerBuilder({req, parameter, value}) {\n  req.headers = req.headers || {}\n  if (typeof value !== 'undefined') {\n    req.headers[parameter.name] = value\n  }\n}\n\n// Replace path paramters, with values ( ie: the URL )\nfunction pathBuilder({req, value, parameter}) {\n  req.url = req.url.replace(`{${parameter.name}}`, encodeURIComponent(value))\n}\n\n// Add a query to the `query` object, which will later be stringified into the URL's search\nfunction queryBuilder({req, value, parameter}) {\n  req.query = req.query || {}\n\n  if (value === false && parameter.type === 'boolean') {\n    value = 'false'\n  }\n\n  if (value === 0 && ['number', 'integer'].indexOf(parameter.type) > -1) {\n    value = '0'\n  }\n\n  if (value) {\n    req.query[parameter.name] = {\n      collectionFormat: parameter.collectionFormat,\n      value\n    }\n  }\n  else if (parameter.allowEmptyValue && value !== undefined) {\n    const paramName = parameter.name\n    req.query[paramName] = req.query[paramName] || {}\n    req.query[paramName].allowEmptyValue = true\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/execute/swagger2/parameter-builders.js","import stylize from './style-serializer'\n\nexport default {\n  path,\n  query,\n  header,\n  cookie\n}\n\nfunction path({req, value, parameter}) {\n  const {name, style, explode} = parameter\n  const styledValue = stylize({\n    key: parameter.name,\n    value,\n    style: style || 'simple',\n    explode: explode || false,\n    escape: true,\n  })\n\n  req.url = req.url.replace(`{${name}}`, styledValue)\n}\n\nfunction query({req, value, parameter}) {\n  req.query = req.query || {}\n\n  if (value === false) {\n    value = 'false'\n  }\n\n  if (value === 0) {\n    value = '0'\n  }\n\n  if (value) {\n    const type = typeof value\n\n    if (parameter.style === 'deepObject') {\n      const valueKeys = Object.keys(value)\n      valueKeys.forEach((k) => {\n        const v = value[k]\n        req.query[`${parameter.name}[${k}]`] = {\n          value: stylize({\n            key: k,\n            value: v,\n            style: 'deepObject',\n            escape: parameter.allowReserved ? 'unsafe' : 'reserved',\n          }),\n          skipEncoding: true\n        }\n      })\n    }\n    else if (\n      type === 'object' &&\n      !Array.isArray(value) &&\n      (parameter.style === 'form' || !parameter.style) &&\n      (parameter.explode || parameter.explode === undefined)\n    ) {\n      // form explode needs to be handled here,\n      // since we aren't assigning to `req.query[parameter.name]`\n      // like we usually do.\n      const valueKeys = Object.keys(value)\n      valueKeys.forEach((k) => {\n        const v = value[k]\n        req.query[k] = {\n          value: stylize({\n            key: k,\n            value: v,\n            style: parameter.style || 'form',\n            escape: parameter.allowReserved ? 'unsafe' : 'reserved',\n          }),\n          skipEncoding: true\n        }\n      })\n    }\n    else {\n      req.query[parameter.name] = {\n        value: stylize({\n          key: parameter.name,\n          value,\n          style: parameter.style || 'form',\n          explode: typeof parameter.explode === 'undefined' ? true : parameter.explode,\n          escape: parameter.allowReserved ? 'unsafe' : 'reserved',\n        }),\n        skipEncoding: true\n      }\n    }\n  }\n  else if (parameter.allowEmptyValue && value !== undefined) {\n    const paramName = parameter.name\n    req.query[paramName] = req.query[paramName] || {}\n    req.query[paramName].allowEmptyValue = true\n  }\n}\n\nconst PARAMETER_HEADER_BLACKLIST = [\n  'accept',\n  'authorization',\n  'content-type'\n]\n\nfunction header({req, parameter, value}) {\n  req.headers = req.headers || {}\n\n  if (PARAMETER_HEADER_BLACKLIST.indexOf(parameter.name.toLowerCase()) > -1) {\n    return\n  }\n\n  if (typeof value !== 'undefined') {\n    req.headers[parameter.name] = stylize({\n      key: parameter.name,\n      value,\n      style: parameter.style || 'simple',\n      explode: typeof parameter.explode === 'undefined' ? false : parameter.explode,\n      escape: false,\n    })\n  }\n}\n\nfunction cookie({req, parameter, value}) {\n  req.headers = req.headers || {}\n  const type = typeof value\n\n  if (type !== 'undefined') {\n    const prefix = (\n      type === 'object' &&\n      !Array.isArray(value) &&\n      parameter.explode\n    ) ? '' : `${parameter.name}=`\n\n    req.headers.Cookie = prefix + stylize({\n      key: parameter.name,\n      value,\n      escape: false,\n      style: parameter.style || 'form',\n      explode: typeof parameter.explode === 'undefined' ? false : parameter.explode\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/execute/oas3/parameter-builders.js","import encodeToRFC3986 from 'encode-3986'\nimport toUTF8Bytes from 'utf8-bytes'\nimport {stringToCharArray} from 'utfstring'\n\nconst isRfc3986Reserved = char => ':/?#[]@!$&\\'()*+,;='.indexOf(char) > -1\nconst isRrc3986Unreserved = (char) => {\n  return (/^[a-z0-9\\-._~]+$/i).test(char)\n}\n\nexport function encodeDisallowedCharacters(str, {escape} = {}, parse) {\n  if (typeof str === 'number') {\n    str = str.toString()\n  }\n  if (typeof str !== 'string' || !str.length) {\n    return str\n  }\n\n  if (!escape) {\n    return str\n  }\n\n  if (parse) {\n    return JSON.parse(str)\n  }\n\n  return stringToCharArray(str).map((char) => {\n    if (isRrc3986Unreserved(char)) {\n      return char\n    }\n\n    if (isRfc3986Reserved(char) && escape === 'unsafe') {\n      return char\n    }\n\n    const encoded = (toUTF8Bytes(char) || [])\n      .map(byte => byte.toString(16).toUpperCase())\n      .map(encodedByte => `%${encodedByte}`)\n      .join('')\n\n    return encoded\n  }).join('')\n}\n\nexport default function (config) {\n  const {value} = config\n\n  if (Array.isArray(value)) {\n    return encodeArray(config)\n  }\n  else if (typeof value === 'object') {\n    return encodeObject(config)\n  }\n  return encodePrimitive(config)\n}\n\nfunction encodeArray({key, value, style, explode, escape}) {\n  const valueEncoder = str => encodeDisallowedCharacters(str, {\n    escape\n  })\n\n  if (style === 'simple') {\n    return value.map(val => valueEncoder(val)).join(',')\n  }\n\n  if (style === 'label') {\n    return `.${value.map(val => valueEncoder(val)).join('.')}`\n  }\n\n  if (style === 'matrix') {\n    return value.map(val => valueEncoder(val)).reduce((prev, curr) => {\n      if (!prev || explode) {\n        return `${(prev || '')};${key}=${curr}`\n      }\n      return `${prev},${curr}`\n    }, '')\n  }\n\n  if (style === 'form') {\n    const after = explode ? `&${key}=` : ','\n    return value.map(val => valueEncoder(val)).join(after)\n  }\n\n  if (style === 'spaceDelimited') {\n    const after = explode ? `${key}=` : ''\n    return value.map(val => valueEncoder(val)).join(` ${after}`)\n  }\n\n  if (style === 'pipeDelimited') {\n    const after = explode ? `${key}=` : ''\n    return value.map(val => valueEncoder(val)).join(`|${after}`)\n  }\n}\n\nfunction encodeObject({key, value, style, explode, escape}) {\n  const valueEncoder = str => encodeDisallowedCharacters(str, {\n    escape\n  })\n\n  const valueKeys = Object.keys(value)\n\n  if (style === 'simple') {\n    return valueKeys.reduce((prev, curr) => {\n      const val = valueEncoder(value[curr])\n      const middleChar = explode ? '=' : ','\n      const prefix = prev ? `${prev},` : ''\n\n      return `${prefix}${curr}${middleChar}${val}`\n    }, '')\n  }\n\n  if (style === 'label') {\n    return valueKeys.reduce((prev, curr) => {\n      const val = valueEncoder(value[curr])\n      const middleChar = explode ? '=' : '.'\n      const prefix = prev ? `${prev}.` : '.'\n\n      return `${prefix}${curr}${middleChar}${val}`\n    }, '')\n  }\n\n  if (style === 'matrix' && explode) {\n    return valueKeys.reduce((prev, curr) => {\n      const val = valueEncoder(value[curr])\n      const prefix = prev ? `${prev};` : ';'\n\n      return `${prefix}${curr}=${val}`\n    }, '')\n  }\n\n  if (style === 'matrix') {\n    // no explode\n    return valueKeys.reduce((prev, curr) => {\n      const val = valueEncoder(value[curr])\n      const prefix = prev ? `${prev},` : `;${key}=`\n\n      return `${prefix}${curr},${val}`\n    }, '')\n  }\n\n  if (style === 'form') {\n    return valueKeys.reduce((prev, curr) => {\n      const val = valueEncoder(value[curr])\n      const prefix = prev ? `${prev}${explode ? '&' : ','}` : ''\n      const separator = explode ? '=' : ','\n\n      return `${prefix}${curr}${separator}${val}`\n    }, '')\n  }\n}\n\nfunction encodePrimitive({key, value, style, escape}) {\n  const valueEncoder = str => encodeDisallowedCharacters(str, {\n    escape\n  })\n\n  if (style === 'simple') {\n    return valueEncoder(value)\n  }\n\n  if (style === 'label') {\n    return `.${valueEncoder(value)}`\n  }\n\n  if (style === 'matrix') {\n    return `;${key}=${valueEncoder(value)}`\n  }\n\n  if (style === 'form') {\n    return valueEncoder(value)\n  }\n\n  if (style === 'deepObject') {\n    return valueEncoder(value, {}, true)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/execute/oas3/style-serializer.js","module.exports = require(\"encode-3986\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"encode-3986\"\n// module id = 59\n// module chunks = 0","module.exports = require(\"utf8-bytes\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"utf8-bytes\"\n// module id = 60\n// module chunks = 0","module.exports = require(\"utfstring\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"utfstring\"\n// module id = 61\n// module chunks = 0","// This function runs after the common function,\n// `src/execute/index.js#buildRequest`\nimport assign from 'lodash/assign'\nimport get from 'lodash/get'\nimport btoa from 'btoa'\nimport {Buffer} from 'buffer/'\n\nexport default function (options, req) {\n  const {\n    operation,\n    requestBody,\n    securities,\n    spec,\n    attachContentTypeForEmptyPayload\n  } = options\n\n  let {\n    requestContentType\n  } = options\n\n  req = applySecurities({request: req, securities, operation, spec})\n\n  const requestBodyDef = operation.requestBody || {}\n  const requestBodyMediaTypes = Object.keys(requestBodyDef.content || {})\n  const isExplicitContentTypeValid = requestContentType\n  && requestBodyMediaTypes.indexOf(requestContentType) > -1\n\n  // for OAS3: set the Content-Type\n  if (requestBody || attachContentTypeForEmptyPayload) {\n    // does the passed requestContentType appear in the requestBody definition?\n\n    if (requestContentType && isExplicitContentTypeValid) {\n      req.headers['Content-Type'] = requestContentType\n    }\n    else if (!requestContentType) {\n      const firstMediaType = requestBodyMediaTypes[0]\n      if (firstMediaType) {\n        req.headers['Content-Type'] = firstMediaType\n        requestContentType = firstMediaType\n      }\n    }\n  }\n  else if (requestContentType && isExplicitContentTypeValid) {\n    req.headers['Content-Type'] = requestContentType\n  }\n\n  // for OAS3: add requestBody to request\n  if (requestBody) {\n    if (requestContentType) {\n      if (requestBodyMediaTypes.indexOf(requestContentType) > -1) {\n        // only attach body if the requestBody has a definition for the\n        // contentType that has been explicitly set\n        if (requestContentType === 'application/x-www-form-urlencoded' || requestContentType.indexOf('multipart/') === 0) {\n          if (typeof requestBody === 'object') {\n            req.form = {}\n            Object.keys(requestBody).forEach((k) => {\n              const val = requestBody[k]\n              let newVal\n\n              let isFile\n\n              if (typeof File !== 'undefined') {\n                isFile = val instanceof File // eslint-disable-line no-undef\n              }\n\n              if (typeof Blob !== 'undefined') {\n                isFile = isFile || val instanceof Blob // eslint-disable-line no-undef\n              }\n\n              if (typeof Buffer !== 'undefined') {\n                isFile = isFile || Buffer.isBuffer(val)\n              }\n\n              if (typeof val === 'object' && !isFile) {\n                if (Array.isArray(val)) {\n                  newVal = val.toString()\n                }\n                else {\n                  newVal = JSON.stringify(val)\n                }\n              }\n              else {\n                newVal = val\n              }\n\n              req.form[k] = {\n                value: newVal\n              }\n            })\n          }\n          else {\n            req.form = requestBody\n          }\n        }\n        else {\n          req.body = requestBody\n        }\n      }\n    }\n    else {\n      req.body = requestBody\n    }\n  }\n\n  return req\n}\n\n// Add security values, to operations - that declare their need on them\n// Adapted from the Swagger2 implementation\nexport function applySecurities({request, securities = {}, operation = {}, spec}) {\n  const result = assign({}, request)\n  const {authorized = {}} = securities\n  const security = operation.security || spec.security || []\n  const isAuthorized = authorized && !!Object.keys(authorized).length\n  const securityDef = get(spec, ['components', 'securitySchemes']) || {}\n\n  result.headers = result.headers || {}\n  result.query = result.query || {}\n\n  if (!Object.keys(securities).length || !isAuthorized || !security ||\n      (Array.isArray(operation.security) && !operation.security.length)) {\n    return request\n  }\n\n  security.forEach((securityObj, index) => {\n    for (const key in securityObj) {\n      const auth = authorized[key]\n      const schema = securityDef[key]\n\n      if (!auth) {\n        continue\n      }\n\n      const value = auth.value || auth\n      const {type} = schema\n\n      if (auth) {\n        if (type === 'apiKey') {\n          if (schema.in === 'query') {\n            result.query[schema.name] = value\n          }\n          if (schema.in === 'header') {\n            result.headers[schema.name] = value\n          }\n          if (schema.in === 'cookie') {\n            result.cookies[schema.name] = value\n          }\n        }\n        else if (type === 'http') {\n          if (schema.scheme === 'basic') {\n            const {username, password} = value\n            const encoded = btoa(`${username}:${password}`)\n            result.headers.Authorization = `Basic ${encoded}`\n          }\n\n          if (schema.scheme === 'bearer') {\n            result.headers.Authorization = `Bearer ${value}`\n          }\n        }\n        else if (type === 'oauth2') {\n          const token = auth.token || {}\n          const accessToken = token.access_token\n          let tokenType = token.token_type\n\n          if (!tokenType || tokenType.toLowerCase() === 'bearer') {\n            tokenType = 'Bearer'\n          }\n\n          result.headers.Authorization = `${tokenType} ${accessToken}`\n        }\n      }\n    }\n  })\n\n  return result\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/execute/oas3/build-request.js","module.exports = require(\"buffer/\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"buffer/\"\n// module id = 63\n// module chunks = 0","// This function runs after the common function,\n// `src/execute/index.js#buildRequest`\n\nimport btoa from 'btoa'\nimport assign from 'lodash/assign'\nimport http from '../../http'\n\n\nexport default function (options, req) {\n  const {\n    spec,\n    operation,\n    securities,\n    requestContentType,\n    attachContentTypeForEmptyPayload\n  } = options\n  // Add securities, which are applicable\n  req = applySecurities({request: req, securities, operation, spec})\n\n  if (req.body || req.form || attachContentTypeForEmptyPayload) {\n    // all following conditionals are Swagger2 only\n    if (requestContentType) {\n      req.headers['Content-Type'] = requestContentType\n    }\n    else if (Array.isArray(operation.consumes)) {\n      req.headers['Content-Type'] = operation.consumes[0]\n    }\n    else if (Array.isArray(spec.consumes)) {\n      req.headers['Content-Type'] = spec.consumes[0]\n    }\n    else if (operation.parameters && operation.parameters.filter(p => p.type === 'file').length) {\n      req.headers['Content-Type'] = 'multipart/form-data'\n    }\n    else if (operation.parameters && operation.parameters.filter(p => p.in === 'formData').length) {\n      req.headers['Content-Type'] = 'application/x-www-form-urlencoded'\n    }\n  }\n  else if (requestContentType) {\n    const isBodyParamPresent = operation.parameters && operation.parameters.filter(p => p.in === 'body').length > 0\n    const isFormDataParamPresent = operation.parameters && operation.parameters.filter(p => p.in === 'formData').length > 0\n    if (isBodyParamPresent || isFormDataParamPresent) {\n      req.headers['Content-Type'] = requestContentType\n    }\n  }\n\n  return req\n}\n\n// Add security values, to operations - that declare their need on them\nexport function applySecurities({request, securities = {}, operation = {}, spec}) {\n  const result = assign({}, request)\n  const {authorized = {}, specSecurity = []} = securities\n  const security = operation.security || specSecurity\n  const isAuthorized = authorized && !!Object.keys(authorized).length\n  const securityDef = spec.securityDefinitions\n\n  result.headers = result.headers || {}\n  result.query = result.query || {}\n\n  if (!Object.keys(securities).length || !isAuthorized || !security ||\n      (Array.isArray(operation.security) && !operation.security.length)) {\n    return request\n  }\n\n  security.forEach((securityObj, index) => {\n    for (const key in securityObj) {\n      const auth = authorized[key]\n      if (!auth) {\n        continue\n      }\n\n      const token = auth.token\n      const value = auth.value || auth\n      const schema = securityDef[key]\n      const {type} = schema\n      const tokenName = schema['x-tokenName'] || 'access_token'\n      const oauthToken = token && token[tokenName]\n      let tokenType = token && token.token_type\n\n      if (auth) {\n        if (type === 'apiKey') {\n          const inType = schema.in === 'query' ? 'query' : 'headers'\n          result[inType] = result[inType] || {}\n          result[inType][schema.name] = value\n        }\n        else if (type === 'basic') {\n          if (value.header) {\n            result.headers.authorization = value.header\n          }\n          else {\n            value.base64 = btoa(`${value.username}:${value.password}`)\n            result.headers.authorization = `Basic ${value.base64}`\n          }\n        }\n        else if (type === 'oauth2' && oauthToken) {\n          tokenType = (!tokenType || tokenType.toLowerCase() === 'bearer') ? 'Bearer' : tokenType\n          result.headers.authorization = `${tokenType} ${oauthToken}`\n        }\n      }\n    }\n  })\n\n  return result\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/execute/swagger2/build-request.js"],"sourceRoot":""}